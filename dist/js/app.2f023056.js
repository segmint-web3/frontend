(function(){var e={242:function(e,t,n){"use strict";var s=n(7195),a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[e.myNftOpened?t("MyNftComponent",{attrs:{onClose:e.closeMyNfts}}):e._e(),t("HeaderComponent",{attrs:{openMyNfts:e.openMyNfts}}),t("CanvasComponent"),e.isCollectionLoaded?e._e():t("div",{staticClass:"loading-fullscreen"},[e._m(0)])],1)},i=[function(){var e=this,t=e._self._c;return t("div",[t("h1",[e._v("Loading collection")]),t("div",{staticClass:"lds-ring"},[t("div"),t("div"),t("div"),t("div")])])}],o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"header-wrapper"},[t("div",{staticClass:"flex"},[t("img",{staticClass:"logo",attrs:{src:`${e.publicPath}icons/logo.svg`,alt:"logo"}}),e.$store.state.Provider.account?t("a",{staticClass:"secondary-button nft-button",attrs:{href:"#"},on:{click:e.$props.openMyNfts}},[e._v("My NFT")]):e._e()]),e._m(0),e.$store.state.Provider.account?t("div",{staticClass:"flex wallet-info"},[t("div",{staticClass:"info"},[t("div",{staticClass:"address"},[e._v(e._s(e.address))]),t("div",{staticClass:"coins"},[e._v(e._s(e.balance)+" VENOM")])]),t("img",{staticClass:"exit",attrs:{src:`${e.publicPath}icons/exit.svg`,alt:"exit"},on:{click:e.disconnect}})]):t("div",{staticClass:"wallet-connect"},[t("button",{staticClass:"primary-button connect",on:{click:e.connect}},[e._v("Connect wallet")])])])},l=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"description"},[t("span",[e._v("$1 per pixel")]),t("div",{staticClass:"dot"}),t("span",[e._v("Own a piece of web3 history!")])])}],r={name:"HeaderComponent",data(){return{publicPath:"/frontend/"}},props:["openMyNfts"],computed:{address(){let e=this.$store.state.Provider.account._address;return e.slice(0,7)+"..."+e.slice(-4)},balance(){return this.$store.state.Provider.venomBalance}},methods:{connect(){this.$store.dispatch("Provider/connect")},disconnect(){this.$store.dispatch("Provider/disconnect")}}},d=r,c=n(1001),p=(0,c.Z)(d,o,l,!1,null,null,null),u=p.exports,m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper"},[t("claim-modal",{attrs:{name:"claim-modal",width:e.selectedWidth,height:e.selectedHeight,x:e.selectionStartX,y:e.selectionStartY,onsuccess:e.onClaimModalSuccess},on:{close:e.closeClaimModal}}),t("mint-tokens-modal",{attrs:{name:"mint-tokens-modal",amount:e.selectedPriceUSD,onsuccess:e.onMintTokenModalSuccess},on:{close:e.closeMintTokensModal}}),t("div",{staticClass:"canvas-container",on:{click:e.click,mouseup:e.onMouseUp,mouseleave:e.onMouseLeave,mousedown:e.onMouseDown,mousemove:e.onMouseMove}},[t("div",{style:e.selectionHeaderStyle},[e._v(" "+e._s(e.selectedWidth)+"x"+e._s(e.selectedHeight)+" ")]),t("div",{style:e.selectionStyles}),e._l(e.badTiles,(function(n){return t("div",{key:n.index},[e.selectedTilesCount>e.badTiles.length?t("div",{style:e.styleForBadTile(n)}):e._e()])})),t("div",{staticClass:"hover-popup",style:e.highLightPopupStyles},[e._v(" "+e._s(e.highlightNftDescription)+" ")]),t("canvas",{ref:"canvas",attrs:{width:"1000",height:"1000"}}),t("br")],2),null===this.selectionStartX||this.selectionInProcess?e._e():t("button",{staticClass:"primary-button mint-button",on:{click:e.claim}},[e._v(" Mint segment ")])],1)},h=[],y=(n(7658),function(){var e=this,t=e._self._c;return t("modal",{staticClass:"claim-modal",attrs:{name:e.$props.name,height:"auto"},on:{"before-close":e.beforeClose,"before-open":e.beforeOpen}},[t("div",{staticClass:"flex modal-content"},[t("div",{staticClass:"claim-modal-header"},[e._v(" "+e._s(e.headerText)+" "),t("img",{staticClass:"close",attrs:{src:`${e.publicPath}icons/close.svg`,alt:"close"},on:{click:function(t){return e.$emit("close")}}})]),t("div",{staticClass:"flex claim-modal-content"},[e.claimInProgress?t("div",{staticStyle:{"background-color":"rgba(0, 0, 0, 0.3)",position:"absolute",left:"0",right:"0",top:"0",bottom:"0"}}):e._e(),e.canBeClaimed?t("div",{staticClass:"instructions"},[e._v(" You have selected a "+e._s(this.width)+"x"+e._s(this.height)+"px segment ")]):t("div",{staticClass:"instructions"},[e._v(" Please upload a picture "+e._s(this.width)+"x"+e._s(this.height)+"px. ")]),t("label",{staticClass:"file-upload",attrs:{for:"assetsFieldHandle"}},[t("input",{ref:"file",staticClass:"file-input",attrs:{type:"file",multiple:"",name:"fields[assetsFieldHandle][]",id:"assetsFieldHandle",accept:".pdf,.jpg,.jpeg,.png"},on:{change:e.onChange}}),t("button",{staticClass:"transparent-button"},[e._v("Select Image")])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.canBeClaimed,expression:"canBeClaimed"}],staticClass:"canvasContainer",style:e.canvasContainerStyles},[t("canvas",{ref:"canvas",style:e.canvasContainerStyles,attrs:{width:this.$props.width,height:this.$props.height}})]),e.canBeClaimed?t("form",[t("div",{staticClass:"flex description"},[t("label",{attrs:{for:"description"}},[e._v("Title:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],staticClass:"input",attrs:{type:"text",id:"description",maxlength:"1000"},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}})]),t("div",{staticClass:"flex link"},[t("label",{attrs:{for:"link"}},[e._v("Link:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.link,expression:"link"}],staticClass:"input",attrs:{type:"text",id:"link",maxlength:"1000"},domProps:{value:e.link},on:{input:[function(t){t.target.composing||(e.link=t.target.value)},function(t){return e.inputLink(t)}]}})]),e.linkValid?e._e():t("div",{staticClass:"error"},[e._v("Link format is not correct")]),t("button",{staticClass:"primary-button",on:{click:e.claim}},[e._v(" "+e._s(e.$props.id?"Edit segment":"Mint for $"+this.width*this.height)+" ")])]):e._e(),e.claimInProgress?t("div",{staticClass:"claim-in-progress"},[t("span",[e._v(e._s(e.$props.id?"Edit in progress":"Claim in progress"))]),t("div",{staticClass:"lds-ring"},[t("div"),t("div"),t("div"),t("div")])]):e._e()])])])}),f=[],g=(n(2062),n(3054));function v(e){let t=[];for(let n=0;n<10;n++){let s=new g.BN(e.r[n]),a=new g.BN(e.g[n]),i=new g.BN(e.b[n]);for(let e=0;e<10;e++)t.push(s.shrn(8*(9-e)).and(new g.BN("255",10)).toNumber()),t.push(a.shrn(8*(9-e)).and(new g.BN("255",10)).toNumber()),t.push(i.shrn(8*(9-e)).and(new g.BN("255",10)).toNumber()),t.push(255)}return t}function b(e){const t={r:[],b:[],g:[]};for(let n=0;n<10;n++){let s=new g.BN("0",10),a=new g.BN("0",10),i=new g.BN("0",10);for(let t=0;t<10;t++)s=s.shln(0===t?0:8).or(new g.BN(e[4*t+0+10*n*4].toString(10),10)),a=a.shln(0===t?0:8).or(new g.BN(e[4*t+1+10*n*4].toString(10),10)),i=i.shln(0===t?0:8).or(new g.BN(e[4*t+2+10*n*4].toString(10),10));t.r.push(s.toString(10)),t.g.push(a.toString(10)),t.b.push(i.toString(10))}return t}var w={name:"ClaimModal",data:function(){return{coloredTiles:[],claimInProgress:!1,description:"",link:"",publicPath:"/frontend/",linkValid:!0}},props:["id","name","x","y","width","height","onsuccess","onclose"],computed:{canBeClaimed:function(){return this.coloredTiles.length>0},canvasContainerStyles:function(){return this.$props.width>60||this.$props.height>60?{margin:"auto",width:2*this.$props.width+"px",height:2*this.$props.height+"px"}:{margin:"auto",width:4*this.$props.width+"px",height:4*this.$props.height+"px"}},headerText(){return this.canBeClaimed?this.$props.id?"Editing":"Minting":"Choosing a picture"}},methods:{onChange(){const e=this.$refs.canvas.getContext("2d");e.imageSmoothingEnabled=!1;const t=new Image,n=this.$props.width,s=this.$props.height;e.fillStyle="black",e.fillRect(0,0,n,s),this.coloredTiles=[];const a=[];t.onload=function(){const i=t.width/t.height;let o,l;n/s>i?(l=s,o=l*i):(o=n,l=o/i);const r=(n-o)/2,d=(s-l)/2;e.drawImage(t,r,d,o,l);for(let t=0;t<s/10;t++)for(let s=0;s<n/10;s++){const n=e.getImageData(10*s,10*t,10,10);a.push(b(n.data))}this.coloredTiles=a}.bind(this),t.src=URL.createObjectURL(this.$refs.file.files[0])},claim(e){if(e.preventDefault(),this.claimInProgress)return;const t=this.description,n=this.link,s=/(?:https?):\/\/(\w+:?\w*)?(\S+)(:\d+)?(\/|\/([\w#!:.?+=&%!\-/]))?/;if(s.test(n)){let e;this.linkValid=!0,e=this.$props.id?this.$store.dispatch("Provider/redrawNft",{id:this.$props.id,x:this.$props.x,y:this.$props.y,width:this.$props.width,height:this.$props.height,tiles:this.coloredTiles,description:t,url:n}):this.$store.dispatch("Provider/claimTiles",{x:this.$props.x,y:this.$props.y,width:this.$props.width,height:this.$props.height,tiles:this.coloredTiles,description:t,url:n}),e&&(this.claimInProgress=!0,e.then((()=>{this.claimInProgress=!1,this.$props.onsuccess()})).catch((e=>{console.log(e),this.claimInProgress=!1})))}else this.linkValid=!1},beforeClose(e){this.claimInProgress&&e.cancel()},beforeOpen(){this.description="",this.link="",this.coloredTiles=[]},inputLink(){this.linkValid=!0}}},C=w,x=(0,c.Z)(C,y,f,!1,null,"00e0efff",null),I=x.exports,S=function(){var e=this,t=e._self._c;return t("modal",{staticClass:"mint-tokens-modal",attrs:{name:e.$props.name,height:"auto"},on:{"before-close":e.beforeClose}},[t("div",{staticClass:"flex modal-content"},[t("div",{staticClass:"mint-tokens-modal-header"},[e._v(" Minting Test USD "),t("img",{staticClass:"close",attrs:{src:`${e.publicPath}icons/close.svg`,alt:"close"},on:{click:function(t){return e.$emit("close")}}})]),t("div",{staticClass:"flex mint-tokens-modal-content"},[e.mintIntProgress?t("div",{staticStyle:{"background-color":"rgba(0, 0, 0, 0.3)",position:"absolute",left:"0",right:"0",top:"0",bottom:"0"}}):t("div",{staticClass:"instructions"},[e._v(" There is no real USDT in devnet by now :-( "),t("br"),e._v(" So you need to mint some testUSD to continue ")]),t("form",[t("button",{staticClass:"primary-button",on:{click:e.mint}},[e._v(" Mint tokens ")])]),e.mintIntProgress?t("div",{staticClass:"mint-in-progress"},[t("span",[e._v("Mint in progress")]),t("div",{staticClass:"lds-ring"},[t("div"),t("div"),t("div"),t("div")])]):e._e()])])])},_=[],k={name:"MintTokensModal",data:function(){return{mintIntProgress:!1,publicPath:"/frontend/"}},props:["amount","onsuccess","name"],computed:{},methods:{mint(e){if(e.preventDefault(),this.mintIntProgress)return;let t=this.$store.dispatch("Provider/mintTokens",{amount:this.$props.amount});t&&(this.mintIntProgress=!0,t.then((()=>{this.mintIntProgress=!1,this.$props.onsuccess()})).catch((e=>{console.log(e),this.mintIntProgress=!1})))},beforeClose(e){this.mintIntProgress&&e.cancel()}}},P=k,N=(0,c.Z)(P,S,_,!1,null,"356471d6",null),T=N.exports,$={name:"CanvasComponent",components:{ClaimModal:I,MintTokensModal:T},props:{},data(){return{ctx:null,imageData:null,isMobile:!1,collectionLoaded:!1,selectionInProcess:!1,selectionStartX:null,selectionStartY:null,selectionEndX:null,selectionEndY:null,highLightNftId:null,lastMousePosX:0,lastMousePosY:0}},computed:{badTiles:function(){if(null===this.selectionStartX)return[];let e=this.selectionStartX,t=this.selectionStartY,n=this.selectionEndX,s=this.selectionEndY,a=[];for(let i=e;i<=n;i+=10)for(let e=t;e<=s;e+=10){const t=10*i+e/10,n=this.$store.state.Provider.tilesByIndex[t];"4294967295"!==n.nftId&&a.push(n)}return a},selectedTilesCount:function(){return null===this.selectionStartX||null===this.selectionStartY?0:(this.selectionEndX-this.selectionStartX+10)/10*(this.selectionEndY-this.selectionStartY+10)/10},tiles:function(){return this.$store.state.Provider.tiles},selectedWidth:function(){return this.selectionEndX-this.selectionStartX+10},selectedHeight:function(){return this.selectionEndY-this.selectionStartY+10},selectedPriceUSD:function(){return this.selectedWidth*this.selectedHeight*1e9},highLightPopupStyles:function(){if(this.highLightNftId){const e=this.lastMousePosX>600;return{top:`${this.lastMousePosY}px`,left:`${e?this.lastMousePosX-205:this.lastMousePosX+15}px`,width:"200px",minHeight:"20px"}}return{display:"none"}},highlightNftDescription(){let e=this.$store.state.Provider.nftDataById,t=e[this.highLightNftId];return t?t.description:""},selectionStyles:function(){return null!==this.selectionStartX&&this.selectedTilesCount>this.badTiles.length?{position:"absolute",left:`${this.selectionStartX}px`,top:`${this.selectionStartY}px`,width:this.selectionEndX-this.selectionStartX+10+"px",height:this.selectionEndY-this.selectionStartY+10+"px",backgroundColor:"rgba(204,255,0,0.5)"}:{position:"absolute",left:0,top:0,width:0,height:0,backgroundColor:"rgba(204,255,0,0.5)"}},selectionHeaderStyle:function(){return null!==this.selectionStartX&&this.selectedTilesCount>this.badTiles.length?this.selectionStartY>100?{position:"absolute",left:(this.selectionStartX+this.selectionEndX)/2-30+"px",top:this.selectionStartY-25+"px",width:"60px",height:"20px",borderRadius:"5px",backgroundColor:"yellow",textAlign:"center"}:{position:"absolute",left:(this.selectionStartX+this.selectionEndX)/2-30+"px",top:`${this.selectionEndY+15}px`,width:"60px",height:"20px",borderRadius:"5px",backgroundColor:"yellow",textAlign:"center"}:{display:"none",position:"absolute",left:0,top:0,width:0,height:0,backgroundColor:"rgba(204,255,0,0.5)"}}},mounted(){this.ctx=this.$refs.canvas.getContext("2d"),this.imageData=this.ctx.createImageData(10,10),this.$store.subscribe((e=>{"Provider/setTiles"===e.type?this.redraw(e.payload.tiles):"Provider/setTile"===e.type&&this.drawTile(e.payload.tile)}))},methods:{clearSelection(){this.selectionInProcess=!1,this.selectionStartX=null,this.selectionStartY=null,this.selectionEndX=null,this.selectionEndY=null},drawTile(e){this.imageData.data.set(e.pixels),this.ctx.putImageData(this.imageData,e.x,e.y)},redraw(e){for(let t of e)this.imageData.data.set(t.pixels),this.ctx.putImageData(this.imageData,t.x,t.y);this.collectionLoaded=!0},styleForBadTile:function(e){return{position:"absolute",left:`${e.x}px`,top:`${e.y}px`,width:"10px",height:"10px",backgroundColor:"red"}},onMouseDown(e){if(this.isMobile||!this.collectionLoaded)return;const t=this.$refs.canvas.getBoundingClientRect();let n=10*Math.floor((e.clientX-t.left)/10),s=10*Math.floor((e.clientY-t.top)/10);n<0||n>990||s<0||s>990||(this.selectionInProcess=!0,this.selectionStartX=n,this.selectionStartY=s,this.selectionEndX=n,this.selectionEndY=s)},onMouseMove(e){if(this.isMobile||!this.collectionLoaded)return;const t=this.$refs.canvas.getBoundingClientRect();let n=e.clientX-t.left,s=e.clientY-t.top,a=10*Math.floor(n/10),i=10*Math.floor(s/10);if(!(a<0||a>990||i<0||i>990))if(this.selectionInProcess){if(a<=this.selectionEndX)this.selectionEndX=Math.max(a,this.selectionStartX);else while(a>this.selectionEndX){let e=(this.selectionEndX-this.selectionStartX+20)*(this.selectionEndY-this.selectionStartY+10);if(!(e<=1e4))break;this.selectionEndX+=10}if(i<=this.selectionEndY)this.selectionEndY=Math.max(i,this.selectionStartY);else while(i>this.selectionEndY){let e=(this.selectionEndX-this.selectionStartX+10)*(this.selectionEndY-this.selectionStartY+20);if(!(e<=1e4))break;this.selectionEndY+=10}}else{this.lastMousePosX=n,this.lastMousePosY=s;const e=10*a+i/10,t=this.$store.state.Provider.tilesByIndex[e];t&&"4294967295"!==t.nftId&&t.nftId!==this.highLightNftId?(this.highLightNftId=t.nftId,this.$store.dispatch("Provider/fetchNftData",{id:t.nftId})):t.nftId!==this.highLightNftId&&(this.highLightNftId=null)}},onMouseUp(){if(!this.isMobile&&this.collectionLoaded){if(this.selectionInProcess=!1,null!==this.selectionStartX&&this.selectionStartX===this.selectionEndX&&this.selectionStartY===this.selectionEndY&&this.highLightNftId){let e=this.$store.state.Provider.nftDataById[this.highLightNftId];e&&e.url&&window.open(e.url,"_blank")}this.badTiles.length>0&&this.clearSelection()}},onMouseLeave(){this.isMobile||(this.selectionInProcess&&this.clearSelection(),this.highLightNftId=null)},click(e){if(!this.isMobile||!this.collectionLoaded)return;const t=this.$refs.canvas.getBoundingClientRect();let n=e.clientX-t.left,s=e.clientY-t.top,a=10*Math.floor(n/10),i=10*Math.floor(s/10);if(null!==this.selectionStartX&&this.selectionStartX===this.selectionEndX&&this.selectionStartY===this.selectionEndY){let e={selectionStartX:this.selectionStartX,selectionStartY:this.selectionStartY,selectionEndX:this.selectionEndX,selectionEndY:this.selectionEndY};this.selectionStartX=Math.min(a,e.selectionStartX),this.selectionStartY=Math.min(i,e.selectionStartY),this.selectionEndX=Math.max(a,e.selectionEndX),this.selectionEndY=Math.max(i,e.selectionEndY)}else this.selectionStartX=a,this.selectionStartY=i,this.selectionEndX=a,this.selectionEndY=i;while((this.selectionEndX-this.selectionStartX+10)*(this.selectionEndY-this.selectionStartY+10)>1e4)Math.random()>.5?this.selectionEndX>this.selectionStartX&&(this.selectionEndX-=10):this.selectionEndY>this.selectionStartY&&(this.selectionEndY-=10);const o=this.tiles.filter((e=>"4294967295"!==e.nftId&&e.x>=this.selectionStartX&&e.y>=this.selectionStartY&&e.x<=this.selectionEndX&&e.y<=this.selectionEndY));0!==o.length&&(this.selectionStartX=null,this.selectionStartY=null,this.selectionEndX=null,this.selectionEndY=null)},claim(){this.$store.state.Provider.account?this.selectedPriceUSD>this.$store.state.Provider.tokenWalletBalance?this.$modal.show("mint-tokens-modal"):(console.log("open-modal"),this.$modal.show("claim-modal")):this.$store.dispatch("Provider/connect")},onClaimModalSuccess(){this.clearSelection(),this.$modal.hide("claim-modal")},closeClaimModal(){console.log("closeClaimModal"),this.$modal.hide("claim-modal")},onMintTokenModalSuccess(){this.$modal.hide("mint-tokens-modal"),this.$modal.show("claim-modal")},closeMintTokensModal(){this.$modal.hide("mint-tokens-modal")}}},M=$,X=(0,c.Z)(M,m,h,!1,null,"6af52ef0",null),B=X.exports,E=function(){var e=this,t=e._self._c;return t("div",{staticClass:"full-screen-popup"},[t("div",{staticClass:"full-screen-popup-fade",on:{click:e.$props.onClose}}),t("div",{staticClass:"my-nft-wrapper"},[t("div",{staticClass:"my-nft-header"},[e._v(" My NFTs "),t("img",{staticClass:"close",attrs:{src:`${e.publicPath}icons/close.svg`,alt:"close"},on:{click:e.$props.onClose}})]),t("div",{staticClass:"my-nft-container"},e._l(e.nfts,(function(n){return t("div",{key:n.id,staticClass:"my-nft"},[t("OneNftComponent",{attrs:{address:n.address,id:n.id,x:n.x,y:n.y,width:n.width,height:n.height,description:n.description,url:n.url,onedit:e.onEdit}})],1)})),0)]),t("claim-modal",{attrs:{name:"edit-modal",id:e.editNftId,width:e.editNftWidth,height:e.editNftHeight,x:e.editNftX,y:e.editNftY,onsuccess:e.onModalSuccess},on:{close:e.closEditModal}})],1)},Y=[],O=function(){var e=this,t=e._self._c;return t("div",{staticClass:"nft-container"},[t("div",{staticClass:"canvas-container",style:e.canvasStyles},[t("a",{attrs:{href:e.scanLink,target:"_blank"}},[t("canvas",{ref:"canvas",style:e.canvasStyles,attrs:{width:this.$props.width,height:this.$props.height}})])]),t("div",{staticClass:"nft-info-container"},[t("div",{staticClass:"nft-info-title"},[t("a",{attrs:{href:e.$props.url,target:"_blank"}},[e._v(" "+e._s(this.$props.description)+" ")])]),t("div",{staticClass:"secondary-button nft-info-button",on:{click:e.edit}},[t("span",[e._v(" Edit ")]),t("img",{staticClass:"edit-icon",attrs:{src:`${e.publicPath}icons/edit.svg`,alt:"edit"}})])]),t("div",{staticClass:"nft-subinfo-container"},[t("p",[e._v(" Segment size: "+e._s(this.$props.width)+"x"+e._s(this.$props.height)+" ")]),t("p",[e._v(" Floor price: "+e._s(this.floorPrice())+"$ ")])])])},D=[],W={name:"OneNft",data(){return{publicPath:"/frontend/"}},props:["id","address","x","y","width","height","description","url","onedit"],computed:{canvasStyles:function(){const e=250/this.$props.width*this.$props.height;return{margin:"auto",width:"100%",height:`${e}px`}},scanLink:function(){return`https://devnet.venomscan.com/accounts/${this.$props.address.toString()}`}},mounted(){this.redraw()},methods:{edit(){this.$props.onedit(this.$props.id,this.$props.x,this.$props.y,this.$props.width,this.$props.height)},floorPrice(){return this.$props.width*this.$props.height},redraw(){const e=this.$refs.canvas.getContext("2d"),t=e.createImageData(10,10);for(let n=this.$props.x;n<this.$props.x+this.$props.width;n+=10)for(let s=this.$props.y;s<this.$props.y+this.$props.height;s+=10){const a=10*n+s/10,i=this.$store.state.Provider.tilesByIndex[a];i&&(t.data.set(i.pixels),e.putImageData(t,n-this.$props.x,s-this.$props.y))}}}},L=W,A=(0,c.Z)(L,O,D,!1,null,"8c367b02",null),V=A.exports,G={name:"MyNftComponent",components:{OneNftComponent:V,ClaimModal:I},data(){return{publicPath:"/frontend/",editNftId:null,editNftWidth:null,editNftHeight:null,editNftX:null,editNftY:null}},props:["onClose"],computed:{address(){return""},nfts(){return this.$store.state.Provider.userNfts}},mounted(){},methods:{onEdit(e,t,n,s,a){this.editNftId=e,this.editNftX=t,this.editNftY=n,this.editNftWidth=s,this.editNftHeight=a,this.$modal.show("edit-modal")},onModalSuccess(){this.editNftId=null,this.$modal.hide("edit-modal"),this.$props.onClose()},closEditModal(){this.editNftId=null,this.$modal.hide("edit-modal")}}},R=G,F=(0,c.Z)(R,E,Y,!1,null,"0e714cd8",null),H=F.exports,U={name:"App",components:{HeaderComponent:u,CanvasComponent:B,MyNftComponent:H},data(){return{myNftOpened:!1}},computed:{isCollectionLoaded(){return this.$store.state.Provider.collectionLoaded}},mounted(){this.$store.dispatch("Provider/init",{})},methods:{closeMyNfts(){this.myNftOpened=!1},openMyNfts(){this.myNftOpened=!0}}},j=U,Z=(0,c.Z)(j,a,i,!1,null,null,null),q=Z.exports,J=n(408),z=n(2260),K=n(2697),Q=n(2131),ee=JSON.parse('{"ABI version":2,"version":"2.3","header":["time"],"functions":[{"name":"constructor","inputs":[{"name":"codeNft","type":"cell"},{"name":"codeIndex","type":"cell"},{"name":"codeIndexBasis","type":"cell"},{"name":"jsonMetadata","type":"string"},{"name":"tokenRoot","type":"address"},{"name":"onePixelTokenPrice","type":"uint128"}],"outputs":[]},{"name":"onWalletDeployed","inputs":[{"name":"tokenWallet","type":"address"}],"outputs":[]},{"name":"changeOwner","inputs":[{"name":"newOwner","type":"address"}],"outputs":[]},{"name":"acceptOwnership","inputs":[],"outputs":[]},{"name":"disableMint","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"enableMint","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"getMintDisabled","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"withdraw","inputs":[{"name":"fromWallet","type":"address"},{"name":"to","type":"address"},{"name":"deploy_wallet_value","type":"uint128"},{"name":"amount","type":"uint128"}],"outputs":[]},{"name":"changeOneTilePrice","inputs":[{"name":"newTilePrice","type":"uint128"}],"outputs":[]},{"name":"onAcceptTokensTransfer","inputs":[{"name":"tokenRoot","type":"address"},{"name":"amount","type":"uint128"},{"name":"sender","type":"address"},{"name":"senderWallet","type":"address"},{"name":"remainingGasTo","type":"address"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"colorifyTile","inputs":[{"name":"nftId","type":"uint32"},{"components":[{"name":"r","type":"uint80[]"},{"name":"g","type":"uint80[]"},{"name":"b","type":"uint80[]"}],"name":"tileColors","type":"tuple"},{"name":"tilePixelX","type":"uint10"},{"name":"tilePixelY","type":"uint10"},{"name":"sendGasBack","type":"address"}],"outputs":[]},{"name":"getTile","inputs":[{"name":"answerId","type":"uint32"},{"name":"tilePixelX","type":"uint10"},{"name":"tilePixelY","type":"uint10"}],"outputs":[{"name":"pixels","type":"uint8[]"},{"name":"nftId","type":"uint32"}]},{"name":"convertTileColorsToPixels","inputs":[{"name":"answerId","type":"uint32"},{"components":[{"name":"r","type":"uint80[]"},{"name":"g","type":"uint80[]"},{"name":"b","type":"uint80[]"}],"name":"tileColors","type":"tuple"}],"outputs":[{"name":"pixels","type":"uint8[]"}]},{"name":"getTiles","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"components":[{"name":"nftId","type":"uint32"},{"components":[{"name":"r","type":"uint80[]"},{"name":"g","type":"uint80[]"},{"name":"b","type":"uint80[]"}],"name":"colors","type":"tuple"}],"name":"value0","type":"map(uint14,tuple)"}]},{"name":"getOnePixelTokenPrice","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"uint128"}]},{"name":"nftCodeWithoutSalt","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"nftCode","type":"cell"}]},{"name":"getNftCount","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"uint32"}]},{"name":"getNftIndexCodeHash","inputs":[{"name":"answerId","type":"uint32"},{"name":"_owner","type":"address"}],"outputs":[{"name":"codeHash","type":"string"}]},{"name":"indexBasisCode","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"code","type":"cell"}]},{"name":"indexBasisCodeHash","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"hash","type":"uint256"}]},{"name":"resolveIndexBasis","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"indexBasis","type":"address"}]},{"name":"indexCode","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"code","type":"cell"}]},{"name":"indexCodeHash","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"hash","type":"uint256"}]},{"name":"getJson","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"json","type":"string"}]},{"name":"totalSupply","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"count","type":"uint128"}]},{"name":"nftCode","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"code","type":"cell"}]},{"name":"nftCodeHash","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"codeHash","type":"uint256"}]},{"name":"nftAddress","inputs":[{"name":"answerId","type":"uint32"},{"name":"id","type":"uint256"}],"outputs":[{"name":"nft","type":"address"}]},{"name":"supportsInterface","inputs":[{"name":"answerId","type":"uint32"},{"name":"interfaceID","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]}],"data":[{"key":1,"name":"nonce_","type":"uint16"},{"key":2,"name":"owner_","type":"address"}],"events":[{"name":"MintDisabledChanged","inputs":[{"name":"newValue","type":"bool"}],"outputs":[]},{"name":"TileColorify","inputs":[{"name":"nftId","type":"uint32"},{"name":"pixelStartX","type":"uint10"},{"name":"pixelStartY","type":"uint10"},{"components":[{"name":"r","type":"uint80[]"},{"name":"g","type":"uint80[]"},{"name":"b","type":"uint80[]"}],"name":"tileColors","type":"tuple"}],"outputs":[]},{"name":"NftMinted","inputs":[{"name":"nftId","type":"uint32"},{"name":"owner","type":"address"},{"name":"pixelStartX","type":"uint10"},{"name":"pixelStartY","type":"uint10"},{"name":"pixelEndX","type":"uint10"},{"name":"pixelEndY","type":"uint10"}],"outputs":[]},{"name":"OnePixelTokenPriceChanged","inputs":[{"name":"newPrice","type":"uint128"}],"outputs":[]},{"name":"NftCreated","inputs":[{"name":"id","type":"uint256"},{"name":"nft","type":"address"},{"name":"owner","type":"address"},{"name":"manager","type":"address"},{"name":"creator","type":"address"}],"outputs":[]},{"name":"NftBurned","inputs":[{"name":"id","type":"uint256"},{"name":"nft","type":"address"},{"name":"owner","type":"address"},{"name":"manager","type":"address"}],"outputs":[]}],"fields":[{"name":"_pubkey","type":"uint256"},{"name":"_timestamp","type":"uint64"},{"name":"_constructorFlag","type":"bool"},{"name":"_supportedInterfaces","type":"optional(cell)"},{"name":"_codeNft","type":"cell"},{"name":"_totalSupply","type":"uint128"},{"name":"_json","type":"string"},{"name":"_codeIndex","type":"cell"},{"name":"_codeIndexBasis","type":"cell"},{"name":"_indexDeployValue","type":"uint128"},{"name":"_indexDestroyValue","type":"uint128"},{"name":"_deployIndexBasisValue","type":"uint128"},{"name":"nonce_","type":"uint16"},{"name":"owner_","type":"address"},{"name":"newOwner_","type":"address"},{"name":"tokenRoot_","type":"address"},{"name":"tokenWallet_","type":"address"},{"name":"onePixelTokenPrice_","type":"uint128"},{"name":"mintDisabled_","type":"bool"},{"name":"nftCounter_","type":"uint32"},{"components":[{"name":"nftId","type":"uint32"},{"components":[{"name":"r","type":"uint80[]"},{"name":"g","type":"uint80[]"},{"name":"b","type":"uint80[]"}],"name":"colors","type":"tuple"}],"name":"tiles_","type":"map(uint14,tuple)"},{"name":"tileOwnerNftId_","type":"map(uint14,uint32)"},{"name":"remainOnNft_","type":"uint128"}]}'),te=JSON.parse('{"ABI version":2,"version":"2.3","header":["time"],"functions":[{"name":"constructor","inputs":[{"name":"owner","type":"address"},{"name":"sendGasTo","type":"address"},{"name":"remainOnNft","type":"uint128"},{"name":"indexDeployValue","type":"uint128"},{"name":"indexDestroyValue","type":"uint128"},{"name":"codeIndex","type":"cell"},{"name":"tilePixelsStartX","type":"uint10"},{"name":"tilePixelsStartY","type":"uint10"},{"name":"tilePixelsEndX","type":"uint10"},{"name":"tilePixelsEndY","type":"uint10"},{"name":"description","type":"string"},{"name":"url","type":"string"}],"outputs":[]},{"name":"getJson","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"json","type":"string"}]},{"name":"getNftCustomData","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"id","type":"uint256"},{"name":"owner","type":"address"},{"name":"collection","type":"address"},{"name":"description","type":"string"},{"name":"url","type":"string"},{"name":"tilePixelsStartX","type":"uint10"},{"name":"tilePixelsStartY","type":"uint10"},{"name":"tilePixelsEndX","type":"uint10"},{"name":"tilePixelsEndY","type":"uint10"}]},{"name":"colorify","inputs":[{"components":[{"name":"r","type":"uint80[]"},{"name":"g","type":"uint80[]"},{"name":"b","type":"uint80[]"}],"name":"tilesToColorify","type":"tuple[]"},{"name":"description","type":"string"},{"name":"url","type":"string"},{"name":"coinsToRedrawOneTile","type":"uint128"},{"name":"sendGasBack","type":"address"}],"outputs":[]},{"name":"indexCode","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"code","type":"cell"}]},{"name":"indexCodeHash","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"hash","type":"uint256"}]},{"name":"resolveIndex","inputs":[{"name":"answerId","type":"uint32"},{"name":"collection","type":"address"},{"name":"owner","type":"address"}],"outputs":[{"name":"index","type":"address"}]},{"name":"transfer","inputs":[{"name":"to","type":"address"},{"name":"sendGasTo","type":"address"},{"components":[{"name":"value","type":"uint128"},{"name":"payload","type":"cell"}],"name":"callbacks","type":"map(address,tuple)"}],"outputs":[]},{"name":"changeOwner","inputs":[{"name":"newOwner","type":"address"},{"name":"sendGasTo","type":"address"},{"components":[{"name":"value","type":"uint128"},{"name":"payload","type":"cell"}],"name":"callbacks","type":"map(address,tuple)"}],"outputs":[]},{"name":"changeManager","inputs":[{"name":"newManager","type":"address"},{"name":"sendGasTo","type":"address"},{"components":[{"name":"value","type":"uint128"},{"name":"payload","type":"cell"}],"name":"callbacks","type":"map(address,tuple)"}],"outputs":[]},{"name":"getInfo","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"id","type":"uint256"},{"name":"owner","type":"address"},{"name":"manager","type":"address"},{"name":"collection","type":"address"}]},{"name":"supportsInterface","inputs":[{"name":"answerId","type":"uint32"},{"name":"interfaceID","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]}],"data":[{"key":1,"name":"_id","type":"uint256"}],"events":[{"name":"NftCreated","inputs":[{"name":"id","type":"uint256"},{"name":"owner","type":"address"},{"name":"manager","type":"address"},{"name":"collection","type":"address"}],"outputs":[]},{"name":"OwnerChanged","inputs":[{"name":"oldOwner","type":"address"},{"name":"newOwner","type":"address"}],"outputs":[]},{"name":"ManagerChanged","inputs":[{"name":"oldManager","type":"address"},{"name":"newManager","type":"address"}],"outputs":[]},{"name":"NftBurned","inputs":[{"name":"id","type":"uint256"},{"name":"owner","type":"address"},{"name":"manager","type":"address"},{"name":"collection","type":"address"}],"outputs":[]}],"fields":[{"name":"_pubkey","type":"uint256"},{"name":"_timestamp","type":"uint64"},{"name":"_constructorFlag","type":"bool"},{"name":"_supportedInterfaces","type":"optional(cell)"},{"name":"_id","type":"uint256"},{"name":"_collection","type":"address"},{"name":"_owner","type":"address"},{"name":"_manager","type":"address"},{"name":"_indexDeployValue","type":"uint128"},{"name":"_indexDestroyValue","type":"uint128"},{"name":"_codeIndex","type":"cell"},{"name":"tilePixelsStartX_","type":"uint10"},{"name":"tilePixelsStartY_","type":"uint10"},{"name":"tilePixelsEndX_","type":"uint10"},{"name":"tilePixelsEndY_","type":"uint10"},{"name":"remainOnNft_","type":"uint128"},{"name":"description_","type":"string"},{"name":"url_","type":"string"}]}'),ne=JSON.parse('{"ABI version":2,"version":"2.2","header":["time"],"functions":[{"name":"constructor","inputs":[{"name":"collection","type":"address"}],"outputs":[]},{"name":"getInfo","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"collection","type":"address"},{"name":"owner","type":"address"},{"name":"nft","type":"address"}]},{"name":"destruct","inputs":[{"name":"gasReceiver","type":"address"}],"outputs":[]}],"data":[{"key":1,"name":"_nft","type":"address"}],"events":[],"fields":[{"name":"_pubkey","type":"uint256"},{"name":"_timestamp","type":"uint64"},{"name":"_constructorFlag","type":"bool"},{"name":"_nft","type":"address"},{"name":"_collection","type":"address"},{"name":"_owner","type":"address"}]}'),se=JSON.parse('{"ABI version":2,"version":"2.2","header":["pubkey","time","expire"],"functions":[{"name":"constructor","inputs":[{"name":"initialSupplyTo","type":"address"},{"name":"initialSupply","type":"uint128"},{"name":"deployWalletValue","type":"uint128"},{"name":"mintDisabled","type":"bool"},{"name":"burnByRootDisabled","type":"bool"},{"name":"burnPaused","type":"bool"},{"name":"remainingGasTo","type":"address"}],"outputs":[]},{"name":"supportsInterface","inputs":[{"name":"answerId","type":"uint32"},{"name":"interfaceID","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"walletVersion","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"uint32"}]},{"name":"platformCode","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"cell"}]},{"name":"requestUpgradeWallet","inputs":[{"name":"currentVersion","type":"uint32"},{"name":"walletOwner","type":"address"},{"name":"remainingGasTo","type":"address"}],"outputs":[]},{"name":"setWalletCode","inputs":[{"name":"code","type":"cell"}],"outputs":[]},{"name":"upgrade","inputs":[{"name":"code","type":"cell"}],"outputs":[]},{"name":"disableMint","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"mintDisabled","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"burnTokens","inputs":[{"name":"amount","type":"uint128"},{"name":"walletOwner","type":"address"},{"name":"remainingGasTo","type":"address"},{"name":"callbackTo","type":"address"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"disableBurnByRoot","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"burnByRootDisabled","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"burnPaused","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"setBurnPaused","inputs":[{"name":"answerId","type":"uint32"},{"name":"paused","type":"bool"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"transferOwnership","inputs":[{"name":"newOwner","type":"address"},{"name":"remainingGasTo","type":"address"},{"components":[{"name":"value","type":"uint128"},{"name":"payload","type":"cell"}],"name":"callbacks","type":"map(address,tuple)"}],"outputs":[]},{"name":"name","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"string"}]},{"name":"symbol","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"string"}]},{"name":"decimals","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"uint8"}]},{"name":"totalSupply","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"uint128"}]},{"name":"walletCode","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"cell"}]},{"name":"rootOwner","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"address"}]},{"name":"walletOf","inputs":[{"name":"answerId","type":"uint32"},{"name":"walletOwner","type":"address"}],"outputs":[{"name":"value0","type":"address"}]},{"name":"deployWallet","inputs":[{"name":"answerId","type":"uint32"},{"name":"walletOwner","type":"address"},{"name":"deployWalletValue","type":"uint128"}],"outputs":[{"name":"tokenWallet","type":"address"}]},{"name":"mint","inputs":[{"name":"amount","type":"uint128"},{"name":"recipient","type":"address"},{"name":"deployWalletValue","type":"uint128"},{"name":"remainingGasTo","type":"address"},{"name":"notify","type":"bool"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"acceptBurn","id":"0x192B51B1","inputs":[{"name":"amount","type":"uint128"},{"name":"walletOwner","type":"address"},{"name":"remainingGasTo","type":"address"},{"name":"callbackTo","type":"address"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"sendSurplusGas","inputs":[{"name":"to","type":"address"}],"outputs":[]}],"data":[{"key":1,"name":"name_","type":"string"},{"key":2,"name":"symbol_","type":"string"},{"key":3,"name":"decimals_","type":"uint8"},{"key":4,"name":"rootOwner_","type":"address"},{"key":5,"name":"walletCode_","type":"cell"},{"key":6,"name":"randomNonce_","type":"uint256"},{"key":7,"name":"deployer_","type":"address"},{"key":8,"name":"platformCode_","type":"cell"}],"events":[],"fields":[{"name":"_pubkey","type":"uint256"},{"name":"_timestamp","type":"uint64"},{"name":"_constructorFlag","type":"bool"},{"name":"name_","type":"string"},{"name":"symbol_","type":"string"},{"name":"decimals_","type":"uint8"},{"name":"rootOwner_","type":"address"},{"name":"walletCode_","type":"cell"},{"name":"totalSupply_","type":"uint128"},{"name":"burnPaused_","type":"bool"},{"name":"burnByRootDisabled_","type":"bool"},{"name":"mintDisabled_","type":"bool"},{"name":"randomNonce_","type":"uint256"},{"name":"deployer_","type":"address"},{"name":"platformCode_","type":"cell"},{"name":"walletVersion_","type":"uint32"}]}'),ae=JSON.parse('{"ABI version":2,"version":"2.2","header":["pubkey","time","expire"],"functions":[{"name":"constructor","inputs":[],"outputs":[]},{"name":"supportsInterface","inputs":[{"name":"answerId","type":"uint32"},{"name":"interfaceID","type":"uint32"}],"outputs":[{"name":"value0","type":"bool"}]},{"name":"platformCode","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"cell"}]},{"name":"onDeployRetry","id":"0x15A038FB","inputs":[{"name":"value0","type":"cell"},{"name":"value1","type":"uint32"},{"name":"sender","type":"address"},{"name":"remainingGasTo","type":"address"}],"outputs":[]},{"name":"version","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"uint32"}]},{"name":"upgrade","inputs":[{"name":"remainingGasTo","type":"address"}],"outputs":[]},{"name":"acceptUpgrade","inputs":[{"name":"newCode","type":"cell"},{"name":"newVersion","type":"uint32"},{"name":"remainingGasTo","type":"address"}],"outputs":[]},{"name":"burnByRoot","inputs":[{"name":"amount","type":"uint128"},{"name":"remainingGasTo","type":"address"},{"name":"callbackTo","type":"address"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"destroy","inputs":[{"name":"remainingGasTo","type":"address"}],"outputs":[]},{"name":"burn","inputs":[{"name":"amount","type":"uint128"},{"name":"remainingGasTo","type":"address"},{"name":"callbackTo","type":"address"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"balance","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"uint128"}]},{"name":"owner","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"address"}]},{"name":"root","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"address"}]},{"name":"walletCode","inputs":[{"name":"answerId","type":"uint32"}],"outputs":[{"name":"value0","type":"cell"}]},{"name":"transfer","inputs":[{"name":"amount","type":"uint128"},{"name":"recipient","type":"address"},{"name":"deployWalletValue","type":"uint128"},{"name":"remainingGasTo","type":"address"},{"name":"notify","type":"bool"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"transferToWallet","inputs":[{"name":"amount","type":"uint128"},{"name":"recipientTokenWallet","type":"address"},{"name":"remainingGasTo","type":"address"},{"name":"notify","type":"bool"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"acceptTransfer","id":"0x67A0B95F","inputs":[{"name":"amount","type":"uint128"},{"name":"sender","type":"address"},{"name":"remainingGasTo","type":"address"},{"name":"notify","type":"bool"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"acceptMint","id":"0x4384F298","inputs":[{"name":"amount","type":"uint128"},{"name":"remainingGasTo","type":"address"},{"name":"notify","type":"bool"},{"name":"payload","type":"cell"}],"outputs":[]},{"name":"sendSurplusGas","inputs":[{"name":"to","type":"address"}],"outputs":[]}],"data":[{"key":1,"name":"root_","type":"address"},{"key":2,"name":"owner_","type":"address"}],"events":[],"fields":[{"name":"_pubkey","type":"uint256"},{"name":"_timestamp","type":"uint64"},{"name":"_constructorFlag","type":"bool"},{"name":"root_","type":"address"},{"name":"owner_","type":"address"},{"name":"balance_","type":"uint128"},{"name":"version_","type":"uint32"},{"name":"platformCode_","type":"cell"}]}'),ie=JSON.parse('{"ABI version":2,"version":"2.3","header":["time"],"functions":[{"name":"constructor","inputs":[],"outputs":[]},{"name":"mint","inputs":[{"name":"amount","type":"uint128"},{"name":"recipient","type":"address"},{"name":"deployWalletValue","type":"uint128"},{"name":"remainingGasTo","type":"address"},{"name":"notify","type":"bool"},{"name":"payload","type":"cell"}],"outputs":[]}],"data":[{"key":1,"name":"tokenRoot_","type":"address"}],"events":[],"fields":[{"name":"_pubkey","type":"uint256"},{"name":"_timestamp","type":"uint64"},{"name":"_constructorFlag","type":"bool"},{"name":"tokenRoot_","type":"address"}]}');const oe=new K.Address("0:39e56510acc6bcdb694293fee3335da1fbbfae6fe661e6485bf2ece610341f5e"),le=new K.Address("0:431f19f8b5c48fba2368e995bd18772e20055900ae1872093fd4c7d563db1919"),re=new K.Address("0:589f7dacb9906334a950ae15cc10bc7d55bf43fbb646c63ffd3a7a591e764bc1"),de=.04,ce=2.9,pe=2.2,ue=1,me=()=>Q.EverscaleStandaloneClient.create({connection:{id:1002,group:"venom_devnet",type:"graphql",data:{endpoints:["https://gql-devnet.venom.network/graphql"],latencyDetectionInterval:1e3,local:!1}}});async function he(e,t,n){console.log("get new state");const s=new e.Contract(ee,oe),{state:a}=await s.getFullState();console.log("state got");const i=new e.Subscriber;let o=[];i.transactions(s.address).on((async e=>{console.log("We got a new transaction on collection address",e),n("Provider/setCollection",{providerId:t,collectionContract:s,collectionCachedState:a,collectionSubscriber:i}),n("Provider/setUserNftIsNotLoaded");for(let a of e.transactions){let e=await s.decodeTransactionEvents({transaction:a});for(let s of e)if("TileColorify"===s.event){let e=parseInt(s.data.pixelStartX),a=parseInt(s.data.pixelStartY),i={index:e/10*100+a/10,nftId:s.data.nftId,x:e,y:a,pixels:v(s.data.tileColors)};n("Provider/setTile",{tile:i,providerId:t}),-1!==o.indexOf(s.data.nftId)&&(o.splice(o.indexOf(s.data.nftId),1),n("Provider/setUserNftIsNotLoaded"))}else"NftMinted"===s.event&&o.push(s.data.nftId)}})),n("Provider/setCollection",{providerId:t,collectionContract:s,collectionCachedState:a,collectionSubscriber:i})}async function ye(e,t,n,s){let a=[],i={},{value0:o}=await t.methods.getTiles({answerId:0}).call({responsible:!0,cachedState:n});for(let l of o){let e=new g.BN(l[0]),t=l[1],n=parseInt(e.shrn(7).toString(10)),s=parseInt(e.and(new g.BN("127",10)).toString(10));const o=100*n+s;let r={index:o,nftId:t.nftId,x:10*n,y:10*s,pixels:v(t.colors)};a.push(r),i[o]=r}for(let l=0;l<100;l++)for(let e=0;e<100;e++){let t=100*e+l;if(!i[t]){const n={index:t,nftId:"4294967295",x:10*e,y:10*l,pixels:Array(400).fill(0)};a.push(n),i[t]=n}}e("Provider/setTiles",{providerId:s,tiles:a,tilesByIndex:i})}async function fe(e,t,n){console.log("fetchAccountBalance"),t.getBalance(e).then((function(t){t&&n("Provider/setAccountBalance",{address:e,balance:(t/1e9).toFixed(1)})}))}async function ge(e,t,n,s,a){console.log("Fetch users nfts!!!!!!");const{codeHash:i}=await n.methods.getNftIndexCodeHash({answerId:0,_owner:e}).call({responsible:!0,cachedState:s}),{accounts:o}=await t.getAccountsByCodeHash({codeHash:i});let l=[];for(let d of o)try{let a=new t.Contract(ne,d),{owner:i,nft:o,collection:r}=await a.methods.getInfo({answerId:0}).call({responsible:!0});const c=new t.Contract(te,o),{state:p}=await c.getFullState();if(p&&p.isDeployed){let t=await c.methods.getNftCustomData({answerId:0}).call({responsible:!0,cachedState:p});if(t.owner.equals(e)&&t.collection.equals(n.address)){const{nft:e}=await n.methods.nftAddress({answerId:0,id:t.id}).call({responsible:!0,cachedState:s});e.equals(o)&&l.push({address:o,id:t.id,owner:t.owner,description:t.description,url:t.url,x:parseInt(t.tilePixelsStartX),y:parseInt(t.tilePixelsStartY),width:parseInt(t.tilePixelsEndX)-parseInt(t.tilePixelsStartX),height:parseInt(t.tilePixelsEndY)-parseInt(t.tilePixelsStartY)})}}}catch(r){console.log(r)}a("Provider/setUserNfts",{address:e,nfts:l})}async function ve(e,t,n){const s=new t.Contract(se,le),{value0:a}=await s.methods.walletOf({answerId:0,walletOwner:e}).call({responsible:!0}),i=new t.Contract(ae,a),{state:o}=await i.getFullState();let l=0;if(o&&o.isDeployed){const{value0:e}=await i.methods.balance({answerId:0}).call({responsible:!0});console.log("wallet balance",e),l=parseInt(e)}else console.log("wallet is not deployed");const r=new t.Subscriber;r.transactions(i.address).on((async t=>{console.log("wallet new transaction");const{value0:s}=await i.methods.balance({answerId:0}).call({responsible:!0});n("Provider/setTokenWallet",{address:e,tokenWalletContract:i,balance:parseInt(s),subscriber:r})})),n("Provider/setTokenWallet",{address:e,tokenWalletContract:i,balance:l,subscriber:r})}const be={namespaced:!0,state:{venomConnect:null,provider:null,account:null,venomBalance:"0",userNftsLoadingStarted:!1,userNfts:[],providerId:0,collectionContract:null,collectionCachedState:null,collectionSubscriber:null,collectionLoaded:!1,tokenWalletContract:null,tokenWalletSubscriber:null,tokenWalletBalance:0,tiles:[],tilesByIndex:{},nftDataById:{}},mutations:{setVenomConnect(e,t){e.venomConnect=t},setProvider(e,t){console.log("setProvider",t),e.providerId+=1,e.collectionContract=null,e.collectionCachedState=null,e.collectionSubscriber&&e.collectionSubscriber.unsubscribe(),e.collectionSubscriber=null,e.tokenWalletContract=null,e.tokenWalletBalance=0,e.tokenWalletSubscriber&&e.tokenWalletSubscriber.unsubscribe(),e.tokenWalletSubscriber=null,e.provider=t,e.provider.subscribe("networkChanged").then((n=>{n.on("data",(n=>{he(t,e.providerId,this.commit);t?.getProviderState().then((e=>{e?.permissions?.basic&&e?.permissions?.accountInteraction&&this.commit("Provider/setConnectedAccount",e?.permissions?.accountInteraction.address)}))}))})),he(t,e.providerId,this.commit)},setCollection(e,{providerId:t,collectionContract:n,collectionCachedState:s,collectionSubscriber:a}){console.log("setCollection"),e.providerId===t?(e.collectionContract=n,e.collectionCachedState=s,e.collectionSubscriber=a,!e.userNftsLoadingStarted&&e.account&&(e.userNftsLoadingStarted=!0,ge(e.account,e.provider,e.collectionContract,e.collectionCachedState,this.commit)),ye(this.commit,n,s,t),e.account&&fe(e.account,e.provider,this.commit)):a.unsubscribe()},setTiles(e,{providerId:t,tiles:n,tilesByIndex:s}){e.providerId===t&&(e.tiles=n,e.tilesByIndex=s,e.collectionLoaded=!0)},setTile(e,{providerId:t,tile:n}){if(console.log("setTile",n),e.providerId!==t)return;let s=e.tiles;s=s.filter((e=>e.index!==n.index)),s.push(n),e.tilesByIndex[n.index]=n,e.tiles=s,delete e.nftDataById[n.nftId]},setConnectedAccount(e,t){console.log("setConnectedAccount"),e.account=t,e.venomBalance="0",e.userNfts=[],e.tokenWalletContract=null,e.tokenWalletBalance=0,e.tokenWalletSubscriber&&e.tokenWalletSubscriber.unsubscribe(),e.tokenWalletSubscriber=null,t&&fe(t,e.provider,this.commit),t&&e.collectionCachedState?(e.userNftsLoadingStarted=!0,ge(t,e.provider,e.collectionContract,e.collectionCachedState,this.commit)):e.userNftsLoadingStarted=!1,t&&ve(t,e.provider,this.commit)},setTokenWallet(e,{address:t,tokenWalletContract:n,balance:s,subscriber:a}){t.equals(e.account)&&(e.tokenWalletContract=n,e.tokenWalletBalance=s,e.tokenWalletSubscriber=a)},setAccountBalance(e,{address:t,balance:n}){e.account.toString()===t.toString()&&(e.venomBalance=n)},setNftDataLoadingInProgress(e,t){let n=e.nftDataById;n[t]||(n[t]={loading:!0,url:"",description:""},e.nftDataById=n)},setUserNfts(e,{address:t,nfts:n}){e.account&&e.account.equals(t)&&(e.userNfts=n)},setUserNftIsNotLoaded(e){console.log("setUserNftIsNotLoaded"),e.account&&e.collectionContract?(e.userNftsLoadingStarted=!0,ge(e.account,e.provider,e.collectionContract,e.collectionCachedState,this.commit)):e.userNftsLoadingStarted=!1},setNftData(e,{id:t,description:n,url:s}){let a=Object.assign({},e.nftDataById);a[t]={description:n.slice(0,2e3),url:s.slice(0,2e3)},e.nftDataById=a}},getters:{getNftDescriptionById:e=>t=>{let n=e.nftDataById,s=n[t];return s?s.description:""}},actions:{init({state:e,commit:t}){if(e.venomConnect)return;const n=new z.VenomConnect({theme:"light",checkNetworkId:1002,providersOptions:{venomwallet:{links:{},walletWaysToConnect:[{package:K.ProviderRpcClient,packageOptions:{fallback:z.VenomConnect.getPromise("venomwallet","extension")||(()=>Promise.reject()),forceUseFallback:!0},packageOptionsStandalone:{fallback:me,forceUseFallback:!0},id:"extension",type:"extension"}],defaultWalletWaysToConnect:["mobile","ios","android"]},everwallet:{links:{},walletWaysToConnect:[{package:K.ProviderRpcClient,packageOptions:{fallback:z.VenomConnect.getPromise("everwallet","extension")||(()=>Promise.reject()),forceUseFallback:!0},packageOptionsStandalone:{fallback:me,forceUseFallback:!0},id:"extension",type:"extension"}],defaultWalletWaysToConnect:["mobile","ios","android"]}}});t("setVenomConnect",n),n.checkAuth().then((async e=>{await(e?.ensureInitialized());const s=await(e?.getProviderState());if(console.log(e),s?.permissions?.basic&&s?.permissions?.accountInteraction)console.log("Not standalone provider"),t("setProvider",e),t("setConnectedAccount",s?.permissions?.accountInteraction?.address);else{console.log("Standalone provider");let e=await n.getStandalone();t("setProvider",e)}})),n.on("extension-auth",(async function(e){console.log("extension-auth");const n=await(e?.getProviderState());t("setProvider",e),n?.permissions?.accountInteraction?.address&&t("setConnectedAccount",n?.permissions?.accountInteraction?.address)}))},connect({state:e,commit:t}){e.venomConnect.connect()},disconnect({state:e,commit:t}){e.provider.disconnect(),t("setConnectedAccount",null),e.venomConnect.getStandalone().then((function(e){console.log("Standalone provider"),t("setProvider",e)}))},mintTokens({state:e,commit:t},{amount:n}){if(console.log("mint tokens",e.account),null===e.account)return void e.venomConnect.connect();const s=new e.provider.Contract(ie,re),a=s.methods.mint({amount:n,recipient:e.account,deployWalletValue:"150000000",remainingGasTo:e.account,notify:!1,payload:""}).send({from:e.account,amount:"300000000"});return new Promise(((t,n)=>{a.then((async n=>{const s=new e.provider.Subscriber;await s.trace(n).tap((e=>{})).finished(),t()})).catch(n)}))},claimTiles({state:e,commit:t},{x:n,y:s,width:a,height:i,tiles:o,description:l,url:r}){if(null===e.account)return void e.venomConnect.connect();let d=a*i*1e9;return we(e.provider,{pixelStartX:n,pixelStartY:s,pixelEndX:n+a,pixelEndY:s+i,tilesToColorify:o,description:l||"Test description",url:r||"https://google.com",coinsToRedrawOneTile:(1e9*de).toString()}).then((function(t){return e.tokenWalletContract.methods.transfer({amount:d,recipient:oe,deployWalletValue:"0",remainingGasTo:e.account,notify:!0,payload:t}).send({from:e.account,amount:Math.floor(1e9*(a/10*i/10*de+pe+ue+ce)).toString()})})).then((t=>new Promise((async(n,s)=>{const a=new e.provider.Subscriber;await a.trace(t).tap((e=>{})).finished(),n()}))))},redrawNft({state:e,commit:t},{id:n,x:s,y:a,width:i,height:o,tiles:l,description:r,url:d}){return e.collectionContract.methods.nftAddress({answerId:0,id:n}).call({responsible:!0,cachedState:e.collectionCachedState}).then((function(t){const n=new e.provider.Contract(te,t.nft);return n.methods.colorify({tilesToColorify:l,description:r||"",url:d||"",sendGasBack:e.account,coinsToRedrawOneTile:(1e9*de).toString()}).send({from:e.account,amount:(Math.floor(i*o/100*de*1e9)+1e9).toString()}).then((function(t){return new Promise((async(n,s)=>{const a=new e.provider.Subscriber;await a.trace(t).tap((e=>{})).finished(),n()}))}))}))},fetchNftData({state:e,commit:t},{id:n}){!e.nftDataById[n]&&e.provider&&e.collectionCachedState&&(t("setNftDataLoadingInProgress",n),e.collectionContract.methods.nftAddress({id:n,answerId:0}).call({responsible:!0,cachedState:e.collectionCachedState}).then((t=>{let n=new e.provider.Contract(te,t.nft);return n.methods.getNftCustomData({answerId:0}).call({responsible:!0})})).then((e=>{t("setNftData",{id:n,description:e.description,url:e.url})})))}}};async function we(e,t){return(await e.packIntoCell({data:{pixelStartX:t.pixelStartX,pixelStartY:t.pixelStartY,pixelEndX:t.pixelEndX,pixelEndY:t.pixelEndY,tilesToColorify:t.tilesToColorify,description:t.description,url:t.url,coinsToRedrawOneTile:t.coinsToRedrawOneTile},structure:[{name:"pixelStartX",type:"uint10"},{name:"pixelStartY",type:"uint10"},{name:"pixelEndX",type:"uint10"},{name:"pixelEndY",type:"uint10"},{components:[{name:"r",type:"uint80[]"},{name:"g",type:"uint80[]"},{name:"b",type:"uint80[]"}],name:"tilesToColorify",type:"tuple[]"},{name:"description",type:"string"},{name:"url",type:"string"},{name:"coinsToRedrawOneTile",type:"uint128"}]})).boc}s.ZP.use(J.ZP);var Ce=new J.ZP.Store({state:{},mutations:{},actions:{},modules:{Provider:be}}),xe=n(2468),Ie=n.n(xe);s.ZP.use(Ie()),s.ZP.config.productionTip=!1,new s.ZP({store:Ce,render:e=>e(q)}).$mount("#app")},6601:function(){}},t={};function n(s){var a=t[s];if(void 0!==a)return a.exports;var i=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,function(){var e=[];n.O=function(t,s,a,i){if(!s){var o=1/0;for(c=0;c<e.length;c++){s=e[c][0],a=e[c][1],i=e[c][2];for(var l=!0,r=0;r<s.length;r++)(!1&i||o>=i)&&Object.keys(n.O).every((function(e){return n.O[e](s[r])}))?s.splice(r--,1):(l=!1,i<o&&(o=i));if(l){e.splice(c--,1);var d=a();void 0!==d&&(t=d)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[s,a,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){n.p="/frontend/"}(),function(){n.b=document.baseURI||self.location.href;var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,i,o=s[0],l=s[1],r=s[2],d=0;if(o.some((function(t){return 0!==e[t]}))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(r)var c=r(n)}for(t&&t(s);d<o.length;d++)i=o[d],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},s=self["webpackChunksegmint_frontend"]=self["webpackChunksegmint_frontend"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(242)}));s=n.O(s)})();
//# sourceMappingURL=app.2f023056.js.map