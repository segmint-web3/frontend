{"version":3,"file":"js/app.4754d8d0.js","mappings":"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","sources":["webpack://segmint-frontend/./src/App.vue","webpack://segmint-frontend/./src/components/HeaderComponent.vue","webpack://segmint-frontend/src/components/HeaderComponent.vue","webpack://segmint-frontend/./src/components/HeaderComponent.vue?eb1a","webpack://segmint-frontend/./src/components/HeaderComponent.vue?4eb4","webpack://segmint-frontend/./src/components/CanvasComponent.vue","webpack://segmint-frontend/./src/components/ClaimModal.vue","webpack://segmint-frontend/./src/utils/pixels.js","webpack://segmint-frontend/src/components/ClaimModal.vue","webpack://segmint-frontend/./src/components/ClaimModal.vue?fcfd","webpack://segmint-frontend/./src/components/ClaimModal.vue?f95a","webpack://segmint-frontend/./src/components/MintTokensModal.vue","webpack://segmint-frontend/src/components/MintTokensModal.vue","webpack://segmint-frontend/./src/components/MintTokensModal.vue?0e7c","webpack://segmint-frontend/./src/components/MintTokensModal.vue?c52e","webpack://segmint-frontend/src/components/CanvasComponent.vue","webpack://segmint-frontend/./src/components/CanvasComponent.vue?115f","webpack://segmint-frontend/./src/components/CanvasComponent.vue?7af1","webpack://segmint-frontend/./src/components/MyNftComponent.vue","webpack://segmint-frontend/./src/components/OneNftComponent.vue","webpack://segmint-frontend/src/components/OneNftComponent.vue","webpack://segmint-frontend/./src/components/OneNftComponent.vue?8170","webpack://segmint-frontend/./src/components/OneNftComponent.vue?591c","webpack://segmint-frontend/src/components/MyNftComponent.vue","webpack://segmint-frontend/./src/components/MyNftComponent.vue?b34d","webpack://segmint-frontend/./src/components/MyNftComponent.vue?065d","webpack://segmint-frontend/src/App.vue","webpack://segmint-frontend/./src/App.vue?51dd","webpack://segmint-frontend/./src/App.vue?0e40","webpack://segmint-frontend/./src/store/modules/Provider.js","webpack://segmint-frontend/./src/store/index.js","webpack://segmint-frontend/./src/main.js","webpack://segmint-frontend/webpack/bootstrap","webpack://segmint-frontend/webpack/runtime/chunk loaded","webpack://segmint-frontend/webpack/runtime/compat get default export","webpack://segmint-frontend/webpack/runtime/define property getters","webpack://segmint-frontend/webpack/runtime/global","webpack://segmint-frontend/webpack/runtime/harmony module decorator","webpack://segmint-frontend/webpack/runtime/hasOwnProperty shorthand","webpack://segmint-frontend/webpack/runtime/make namespace object","webpack://segmint-frontend/webpack/runtime/node module decorator","webpack://segmint-frontend/webpack/runtime/publicPath","webpack://segmint-frontend/webpack/runtime/jsonp chunk loading","webpack://segmint-frontend/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[(_vm.myNftOpened)?_c('MyNftComponent',{attrs:{\"onClose\":_vm.closeMyNfts}}):_vm._e(),_c('HeaderComponent',{attrs:{\"openMyNfts\":_vm.openMyNfts}}),_c('CanvasComponent'),(!_vm.isCollectionLoaded)?_c('div',{staticClass:\"loading-fullscreen\"},[_vm._m(0)]):_vm._e()],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',[_vm._v(\"Loading collection\")]),_c('div',{staticClass:\"lds-ring\"},[_c('div'),_c('div'),_c('div'),_c('div')])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"header-wrapper\"},[_c('div',{staticClass:\"flex\"},[_c('img',{staticClass:\"logo\",attrs:{\"src\":`${_vm.publicPath}icons/logo.svg`,\"alt\":\"logo\"}}),(_vm.$store.state.Provider.account)?_c('a',{staticClass:\"secondary-button nft-button\",attrs:{\"href\":\"#\"},on:{\"click\":_vm.$props.openMyNfts}},[_vm._v(\"My NFT\")]):_vm._e()]),_vm._m(0),(!_vm.$store.state.Provider.account)?_c('div',{staticClass:\"wallet-connect\"},[_c('button',{staticClass:\"primary-button connect\",on:{\"click\":_vm.connect}},[_vm._v(\"Connect wallet\")])]):_c('div',{staticClass:\"flex wallet-info\"},[_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"address\"},[_vm._v(_vm._s(_vm.address))]),_c('div',{staticClass:\"coins\"},[_vm._v(_vm._s(_vm.balance)+\" VENOM\")])]),_c('img',{staticClass:\"exit\",attrs:{\"src\":`${_vm.publicPath}icons/exit.svg`,\"alt\":\"exit\"},on:{\"click\":_vm.disconnect}})])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"description\"},[_c('span',[_vm._v(\"$1 per pixel\")]),_c('div',{staticClass:\"dot\"}),_c('span',[_vm._v(\"Own a piece of web3 history!\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"header-wrapper\">\r\n    <div class=\"flex\">\r\n      <img :src=\"`${publicPath}icons/logo.svg`\" alt=\"logo\" class=\"logo\">\r\n      <a v-if=\"$store.state.Provider.account\" href=\"#\" class=\"secondary-button nft-button\" @click='$props.openMyNfts'>My NFT</a>\r\n    </div>\r\n    <div class=\"description\">\r\n      <span>$1 per pixel</span>\r\n      <div class=\"dot\"></div>\r\n      <span>Own a piece of web3 history!</span>\r\n    </div>\r\n    <div v-if=\"!$store.state.Provider.account\" class=\"wallet-connect\">\r\n      <button class=\"primary-button connect\" @click=\"connect\">Connect wallet</button>\r\n    </div>\r\n    <div v-else class=\"flex wallet-info\">\r\n      <div class=\"info\">\r\n        <div class=\"address\">{{ address }}</div>\r\n        <div class=\"coins\">{{ balance }} VENOM</div>\r\n      </div>\r\n      <img :src=\"`${publicPath}icons/exit.svg`\" alt=\"exit\" class=\"exit\" @click=\"disconnect\">\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'HeaderComponent',\r\n  data () {\r\n    return {\r\n      publicPath: process.env.BASE_URL\r\n    }\r\n  },\r\n  props: ['openMyNfts'],\r\n  computed: {\r\n    address() {\r\n      let str = this.$store.state.Provider.account._address;\r\n      return str.slice(0, 7) + '...' + str.slice(-4);\r\n    },\r\n    balance() {\r\n      return this.$store.state.Provider.venomBalance;\r\n    }\r\n  },\r\n  methods: {\r\n    connect(){\r\n      this.$store.dispatch('Provider/connect');\r\n    },\r\n    disconnect(){\r\n      this.$store.dispatch('Provider/disconnect');\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.header-wrapper {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  max-height: 100px;\r\n  padding: 10px 150px;\r\n  box-sizing: border-box;\r\n  background: #7000FF;\r\n  z-index: 8;\r\n  color: #CCFF00;\r\n  border-bottom: solid 2px #CCFF00;\r\n}\r\n\r\n@media screen and (max-width: 1280px){\r\n  .header-wrapper {\r\n    padding: 10px 50px;\r\n  }\r\n}\r\n.logo {\r\n    height: 70px;\r\n    margin-right: 20px;\r\n}\r\n.nft-button {\r\n  width: 150px;\r\n  padding: 5px 10px;\r\n}\r\n\r\n.header-wrapper .description {\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 20px;\r\n  font-weight: 700;\r\n  margin: 0 20px;\r\n}\r\n.dot {\r\n  width: 8px;\r\n  height: 8px;\r\n  background-color: #CCFF00;\r\n  margin: 20px;\r\n}\r\n\r\n.exit {\r\n  height: 30px;\r\n  margin-left: 10px;\r\n  cursor: pointer;\r\n}\r\n.address {\r\n  font-weight: 700;\r\n}\r\n.coins {\r\n  text-align: end;\r\n  color: var(--primary);\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HeaderComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HeaderComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HeaderComponent.vue?vue&type=template&id=42625add&\"\nimport script from \"./HeaderComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./HeaderComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HeaderComponent.vue?vue&type=style&index=0&id=42625add&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wrapper\"},[_c('claim-modal',{attrs:{\"name\":\"claim-modal\",\"width\":_vm.selectedWidth,\"height\":_vm.selectedHeight,\"x\":_vm.selectionStartX,\"y\":_vm.selectionStartY,\"onsuccess\":_vm.onClaimModalSuccess},on:{\"close\":_vm.closeClaimModal}}),_c('mint-tokens-modal',{attrs:{\"name\":\"mint-tokens-modal\",\"amount\":_vm.selectedPriceUSD,\"onsuccess\":_vm.onMintTokenModalSuccess},on:{\"close\":_vm.closeMintTokensModal}}),_c('div',{staticClass:\"canvas-container\",on:{\"click\":_vm.click,\"mouseup\":_vm.onMouseUp,\"mouseleave\":_vm.onMouseLeave,\"mousedown\":_vm.onMouseDown,\"mousemove\":_vm.onMouseMove}},[_c('div',{style:(_vm.selectionHeaderStyle)},[_vm._v(\" \"+_vm._s(_vm.selectedWidth)+\"x\"+_vm._s(_vm.selectedHeight)+\" \")]),_c('div',{style:(_vm.selectionStyles)}),_vm._l((_vm.badTiles),function(tile){return _c('div',{key:tile.index},[(_vm.selectedTilesCount > _vm.badTiles.length)?_c('div',{style:(_vm.styleForBadTile(tile))}):_vm._e()])}),_c('div',{staticClass:\"hover-popup\",style:(_vm.highLightPopupStyles)},[_vm._v(\" \"+_vm._s(_vm.highlightNftDescription)+\" \")]),_c('canvas',{ref:\"canvas\",attrs:{\"width\":\"1000\",\"height\":\"1000\"}}),_c('br')],2),(this.selectionStartX !== null && !this.selectionInProcess)?_c('button',{staticClass:\"primary-button mint-button\",on:{\"click\":_vm.claim}},[_vm._v(\" Mint segment \")]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('modal',{staticClass:\"claim-modal\",attrs:{\"name\":_vm.$props.name,\"height\":\"auto\"},on:{\"before-close\":_vm.beforeClose,\"before-open\":_vm.beforeOpen}},[_c('div',{staticClass:\"flex modal-content\"},[_c('div',{staticClass:\"claim-modal-header\"},[_vm._v(\" \"+_vm._s(_vm.headerText)+\" \"),_c('img',{staticClass:\"close\",attrs:{\"src\":`${_vm.publicPath}icons/close.svg`,\"alt\":\"close\"},on:{\"click\":function($event){return _vm.$emit('close')}}})]),_c('div',{staticClass:\"flex claim-modal-content\"},[(_vm.claimInProgress)?_c('div',{staticStyle:{\"background-color\":\"rgba(0, 0, 0, 0.3)\",\"position\":\"absolute\",\"left\":\"0\",\"right\":\"0\",\"top\":\"0\",\"bottom\":\"0\"}}):_vm._e(),(!_vm.canBeClaimed)?_c('div',{staticClass:\"instructions\"},[_vm._v(\" Please upload a picture \"+_vm._s(this.width)+\"x\"+_vm._s(this.height)+\"px. \")]):_c('div',{staticClass:\"instructions\"},[_vm._v(\" You have selected a \"+_vm._s(this.width)+\"x\"+_vm._s(this.height)+\"px segment \")]),_c('label',{staticClass:\"file-upload\",attrs:{\"for\":\"assetsFieldHandle\"}},[_c('input',{ref:\"file\",staticClass:\"file-input\",attrs:{\"type\":\"file\",\"multiple\":\"\",\"name\":\"fields[assetsFieldHandle][]\",\"id\":\"assetsFieldHandle\",\"accept\":\".pdf,.jpg,.jpeg,.png\"},on:{\"change\":_vm.onChange}}),_c('button',{staticClass:\"transparent-button\"},[_vm._v(\"Select Image\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.canBeClaimed),expression:\"canBeClaimed\"}],staticClass:\"canvasContainer\",style:(_vm.canvasContainerStyles)},[_c('canvas',{ref:\"canvas\",style:(_vm.canvasContainerStyles),attrs:{\"width\":this.$props.width,\"height\":this.$props.height}})]),(_vm.canBeClaimed)?_c('form',[_c('div',{staticClass:\"flex description\"},[_c('label',{attrs:{\"for\":\"description\"}},[_vm._v(\"Title:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.description),expression:\"description\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"id\":\"description\",\"maxlength\":\"1000\"},domProps:{\"value\":(_vm.description)},on:{\"input\":function($event){if($event.target.composing)return;_vm.description=$event.target.value}}})]),_c('div',{staticClass:\"flex link\"},[_c('label',{attrs:{\"for\":\"link\"}},[_vm._v(\"Link:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.link),expression:\"link\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"id\":\"link\",\"maxlength\":\"1000\"},domProps:{\"value\":(_vm.link)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.link=$event.target.value},function($event){return _vm.inputLink($event)}]}})]),(!_vm.linkValid)?_c('div',{staticClass:\"error\"},[_vm._v(\"Link format is not correct\")]):_vm._e(),_c('button',{staticClass:\"primary-button\",on:{\"click\":_vm.claim}},[_vm._v(\" \"+_vm._s(_vm.$props.id ? 'Edit segment' : `Mint for $${this.width * this.height}`)+\" \")])]):_vm._e(),(_vm.claimInProgress)?_c('div',{staticClass:\"claim-in-progress\"},[_c('span',[_vm._v(_vm._s(_vm.$props.id ? 'Edit in progress' : 'Claim in progress'))]),_c('div',{staticClass:\"lds-ring\"},[_c('div'),_c('div'),_c('div'),_c('div')])]):_vm._e()])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { BN } from \"bn.js\";\n\nexport function covertTileColorToPixels(colors) {\n  let pixels = [];\n  for (let y = 0; y < 10; y++) {\n    let r = new BN(colors.r[y]);\n    let g = new BN(colors.g[y]);\n    let b = new BN(colors.b[y]);\n\n    for (let x = 0; x < 10; x++) {\n      // we take 8 bits from uin80 10 times.\n      pixels.push(r.shrn((9 - x) * 8).and(new BN('255', 10)).toNumber());\n      pixels.push(g.shrn((9 - x) * 8).and(new BN('255', 10)).toNumber());\n      pixels.push(b.shrn((9 - x) * 8).and(new BN('255', 10)).toNumber());\n      pixels.push(255)\n    }\n  }\n  return pixels;\n}\n\nexport function encodePixelsToTileColor(pixels) {\n  const tileColor = {\n    r: [],\n    b: [],\n    g: []\n  }\n  for (let y = 0; y < 10; y++) {\n    let r = new BN('0', 10);\n    let g = new BN('0', 10);\n    let b = new BN('0', 10);\n    for (let x = 0; x < 10; x++) {\n      r = r.shln(x === 0 ? 0 : 8).or(new BN(pixels[(x * 4 + 0)  + y * 10 * 4].toString(10), 10))\n      g = g.shln( x === 0 ? 0 : 8).or(new BN(pixels[(x * 4 + 1)  + y * 10 * 4].toString(10), 10))\n      b = b.shln( x === 0 ? 0 : 8).or(new BN(pixels[(x * 4 + 2)  + y * 10 * 4].toString(10), 10))\n    }\n    tileColor.r.push(r.toString(10))\n    tileColor.g.push(g.toString(10))\n    tileColor.b.push(b.toString(10))\n  }\n  return tileColor;\n}\n","<template>\n  <modal class=\"claim-modal\" :name=\"$props.name\" height=\"auto\" @before-close=\"beforeClose\" @before-open='beforeOpen'>\n    <div class=\"flex modal-content\">\n      <div class=\"claim-modal-header\">\n        {{ headerText }}\n        <img :src=\"`${publicPath}icons/close.svg`\" alt=\"close\" class=\"close\" @click=\"$emit('close')\">\n      </div>\n      <div class=\" flex claim-modal-content\">\n        <div v-if=\"claimInProgress\" style=\"background-color: rgba(0, 0, 0, 0.3); position: absolute; left: 0; right: 0; top:0; bottom: 0;\"></div>\n        <div v-if=\"!canBeClaimed\" class=\"instructions\">\n            Please upload a picture {{this.width}}x{{this.height}}px.\n        </div>\n        <div v-else class=\"instructions\">\n            You have selected a {{this.width}}x{{this.height}}px segment\n        </div>\n        <label for=\"assetsFieldHandle\" class=\"file-upload\">\n          <input type=\"file\" multiple name=\"fields[assetsFieldHandle][]\" class=\"file-input\" id=\"assetsFieldHandle\"\n              @change=\"onChange\" ref=\"file\" accept=\".pdf,.jpg,.jpeg,.png\" />\n          <button class=\"transparent-button\">Select Image</button>\n        </label>\n        <div v-show=\"canBeClaimed\" :style=\"canvasContainerStyles\" class=\"canvasContainer\">\n          <canvas :style=\"canvasContainerStyles\" ref=\"canvas\" :width=\"this.$props.width\" :height=\"this.$props.height\"></canvas>\n        </div>\n        <form v-if=\"canBeClaimed\">\n          <div class=\"flex description\">\n            <label for=\"description\">Title:</label>\n            <input v-model=\"description\" type=\"text\" id=\"description\" class=\"input\" maxlength=\"1000\">\n          </div>\n          <div class=\"flex link\">\n            <label for=\"link\">Link:</label>\n            <input v-model=\"link\" type=\"text\" id=\"link\" class=\"input\" maxlength=\"1000\" @input=\"inputLink($event)\">\n          </div>\n          <div v-if=\"!linkValid\" class=\"error\">Link format is not correct</div>\n          <button class=\"primary-button\" v-on:click=\"claim\">\n            {{$props.id ? 'Edit segment' : `Mint for $${this.width * this.height}`}}\n          </button>\n        </form>\n        <div v-if='claimInProgress' class=\"claim-in-progress\">\n          <span>{{$props.id ? 'Edit in progress' : 'Claim in progress'}}</span>\n          <div class=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\n        </div>\n      </div>\n    </div>\n  </modal>\n</template>\n\n<script>\nimport {encodePixelsToTileColor} from \"@/utils/pixels\";\n\nexport default {\n  name: 'ClaimModal',\n  data: function () {\n    return {\n      coloredTiles: [],\n      claimInProgress: false,\n      description: '',\n      link: '',\n      publicPath: process.env.BASE_URL,\n      linkValid: true\n    }\n  },\n  props: ['id', 'name', 'x', 'y', 'width', 'height', 'onsuccess', 'onclose'],\n  computed: {\n    canBeClaimed: function() {\n      return this.coloredTiles.length > 0;\n    },\n    canvasContainerStyles: function () {\n      if (this.$props.width > 60 || this.$props.height > 60) {\n        return {\n          margin: 'auto',\n          width: `${this.$props.width * 2}px`,\n          height: `${this.$props.height * 2}px`\n        }\n      }\n      return {\n        margin: 'auto',\n        width: `${this.$props.width * 4}px`,\n        height: `${this.$props.height * 4}px`\n      }\n    },\n    headerText(){\n      if (this.canBeClaimed) {\n        if (this.$props.id)\n          return 'Editing';\n        return \"Minting\";\n      } else return \"Choosing a picture\";\n    }\n  },\n  methods: {\n    onChange() {\n      // todo parse image\n      const ctx = this.$refs.canvas.getContext('2d');\n      ctx.imageSmoothingEnabled = false;\n      const img = new Image;\n      const width = this.$props.width;\n      const height = this.$props.height;\n\n      ctx.fillStyle = 'black';\n      ctx.fillRect(0, 0, width, height);\n\n      this.coloredTiles = [];\n      const tiles = [];\n      img.onload = function() {\n        const aspectRatio = img.width / img.height;\n        let drawWidth, drawHeight;\n        if (width / height > aspectRatio) {\n          drawHeight = height;\n          drawWidth = drawHeight * aspectRatio;\n        } else {\n          drawWidth = width;\n          drawHeight = drawWidth / aspectRatio;\n        }\n        const x = (width - drawWidth) / 2;\n        const y = (height - drawHeight) / 2;\n\n        ctx.drawImage(img, x, y, drawWidth, drawHeight);\n\n        // encode image to array of tiles\n        for (let tileY = 0; tileY < height/10; tileY++) {\n          for (let tileX = 0; tileX < width/10; tileX++) {\n              const data = ctx.getImageData(tileX*10, tileY*10, 10, 10);\n              tiles.push(encodePixelsToTileColor(data.data))\n          }\n        }\n        this.coloredTiles = tiles;\n      }.bind(this)\n      img.src = URL.createObjectURL(this.$refs.file.files[0]);\n    },\n    claim(event) {\n      event.preventDefault();\n      if (this.claimInProgress)\n        return\n\n      const description = this.description;\n      const url = this.link;\n      const urlPattern = /(?:https?):\\/\\/(\\w+:?\\w*)?(\\S+)(:\\d+)?(\\/|\\/([\\w#!:.?+=&%!\\-/]))?/;\n      if(urlPattern.test(url)) {\n        this.linkValid = true;\n        let promise;\n        if (this.$props.id) {\n          promise = this.$store.dispatch('Provider/redrawNft', {id: this.$props.id, x: this.$props.x, y: this.$props.y, width: this.$props.width, height: this.$props.height, tiles: this.coloredTiles, description, url});\n        } else {\n          promise = this.$store.dispatch('Provider/claimTiles', {x: this.$props.x, y: this.$props.y, width: this.$props.width, height: this.$props.height, tiles: this.coloredTiles, description, url});\n        }\n\n        if (promise) {\n          this.claimInProgress = true;\n          promise.then(() => {\n            this.claimInProgress = false;\n            this.$props.onsuccess();\n          }).catch((err) => {\n            console.log(err);\n            this.claimInProgress = false;\n          })\n        }\n      } else {\n        this.linkValid = false;\n      }\n    },\n    beforeClose(event) {\n      if (this.claimInProgress)\n        event.cancel();\n    },\n    beforeOpen() {\n      this.description = '';\n      this.link = '';\n      this.coloredTiles = [];\n    },\n    inputLink(){\n      this.linkValid = true;\n    }\n  }\n}\n</script>\n\n<style scoped>\n.canvasContainer {\n margin-top: 10px !important;\n}\ncanvas {\n  image-rendering: pixelated;\n}\n\n.claim-modal {\n  background-color: rgb(59 0 135 / 50%);\n}\n.claim-modal-header {\n  width: 100%;\n  padding: 0 10px 10px 10px;\n  text-align: center;\n  background: #7000FF;\n  color: var(--primary);\n  font-family: \"ChakraPetch\", Helvetica, Arial;\n  font-size: 24px;\n  line-height: 30px;\n  font-weight: 700;\n}\n.claim-modal-header img.close {\n  position: absolute;\n  top: 8px;\n  right: 10px;\n  width: 15px;\n  height: 15px;\n  cursor: pointer;\n}\n.modal-content {\n  position: fixed;\n  top: 15%;\n  left: calc(50% - 166px);\n  flex-direction: column;\n  min-width: 300px;\n  background-color: #21004B;\n  border: 10px solid #7000FF;\n  color: #CCFF00;\n}\n.claim-modal-content {\n  flex-direction: column;\n  padding: 20px;\n}\n.instructions {\n  font-weight: 700;\n  margin: 0 20px 20px;\n}\n.file-upload {\n  position: relative;\n  cursor: pointer;\n}\n.file-upload button {\n  pointer-events: none;\n}\n.file-input {\n  visibility: hidden;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\nform {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  margin-top: 20px;\n}\nform label {\n  width: 60px;\n}\nform button {\n  width: 200px;\n  align-self: center;\n  margin-top: 20px;\n}\n.description, .link {\n  margin-bottom: 10px;\n}\n.claim-in-progress {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background-color: #21004B;\n  color: var(--primary);\n  font-weight: 700;\n  display: flex;\n  justify-content: center;\n  text-align: center;\n  flex-direction: column;\n  align-items: center;\n  font-size: 40px;\n}\n.claim-in-progress span {\n  display: block;\n  width: 100%;\n}\n.lds-ring {\n  display: inline-block;\n  position: relative;\n  width: 80px;\n  height: 80px;\n}\n.lds-ring div {\n  box-sizing: border-box;\n  display: block;\n  position: absolute;\n  width: 64px;\n  height: 64px;\n  margin: 8px;\n  border: 8px solid var(--primary);\n  border-radius: 50%;\n  animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n  border-color: var(--primary) transparent transparent transparent;\n}\n.lds-ring div:nth-child(1) {\n  animation-delay: -0.45s;\n}\n.lds-ring div:nth-child(2) {\n  animation-delay: -0.3s;\n}\n.lds-ring div:nth-child(3) {\n  animation-delay: -0.15s;\n}\n@keyframes lds-ring {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n.error {\n  color: red;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ClaimModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ClaimModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ClaimModal.vue?vue&type=template&id=00e0efff&scoped=true&\"\nimport script from \"./ClaimModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ClaimModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ClaimModal.vue?vue&type=style&index=0&id=00e0efff&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00e0efff\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('modal',{staticClass:\"mint-tokens-modal\",attrs:{\"name\":_vm.$props.name,\"height\":\"auto\"},on:{\"before-close\":_vm.beforeClose}},[_c('div',{staticClass:\"flex modal-content\"},[_c('div',{staticClass:\"mint-tokens-modal-header\"},[_vm._v(\" Minting Test USD \"),_c('img',{staticClass:\"close\",attrs:{\"src\":`${_vm.publicPath}icons/close.svg`,\"alt\":\"close\"},on:{\"click\":function($event){return _vm.$emit('close')}}})]),_c('div',{staticClass:\"flex mint-tokens-modal-content\"},[(_vm.mintIntProgress)?_c('div',{staticStyle:{\"background-color\":\"rgba(0, 0, 0, 0.3)\",\"position\":\"absolute\",\"left\":\"0\",\"right\":\"0\",\"top\":\"0\",\"bottom\":\"0\"}}):_c('div',{staticClass:\"instructions\"},[_vm._v(\" There is no real USDT in devnet by now :-( \"),_c('br'),_vm._v(\" So you need to mint some testUSD to continue \")]),_c('form',[_c('button',{staticClass:\"primary-button\",on:{\"click\":_vm.mint}},[_vm._v(\" Mint tokens \")])]),(_vm.mintIntProgress)?_c('div',{staticClass:\"mint-in-progress\"},[_c('span',[_vm._v(\"Mint in progress\")]),_c('div',{staticClass:\"lds-ring\"},[_c('div'),_c('div'),_c('div'),_c('div')])]):_vm._e()])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <modal class=\"mint-tokens-modal\" :name=\"$props.name\" height=\"auto\" @before-close=\"beforeClose\">\n    <div class=\"flex modal-content\">\n      <div class=\"mint-tokens-modal-header\">\n        Minting Test USD\n        <img :src=\"`${publicPath}icons/close.svg`\" alt=\"close\" class=\"close\" @click=\"$emit('close')\">\n      </div>\n      <div class=\" flex mint-tokens-modal-content\">\n        <div v-if=\"mintIntProgress\" style=\"background-color: rgba(0, 0, 0, 0.3); position: absolute; left: 0; right: 0; top:0; bottom: 0;\"></div>\n        <div v-else class=\"instructions\">\n            There is no real USDT in devnet by now :-(\n            <br />\n            So you need to mint some testUSD to continue\n        </div>\n        <form>\n          <button class=\"primary-button\" v-on:click=\"mint\">\n            Mint tokens\n          </button>\n        </form>\n        <div v-if='mintIntProgress' class=\"mint-in-progress\">\n          <span>Mint in progress</span>\n          <div class=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\n        </div>\n      </div>\n    </div>\n  </modal>\n</template>\n\n<script>\n\nexport default {\n  name: 'MintTokensModal',\n  data: function () {\n    return {\n      mintIntProgress: false,\n      publicPath: process.env.BASE_URL\n    }\n  },\n  props: ['amount', 'onsuccess', 'name'],\n  computed: {\n  },\n  methods: {\n    mint(event) {\n      event.preventDefault();\n      if (this.mintIntProgress)\n        return\n\n      let promise = this.$store.dispatch('Provider/mintTokens', {amount: this.$props.amount});\n      if (promise) {\n        this.mintIntProgress = true;\n        promise.then(() => {\n          this.mintIntProgress = false;\n          this.$props.onsuccess();\n        }).catch((err) => {\n          console.log(err);\n          this.mintIntProgress = false;\n        })\n      }\n    },\n    beforeClose(event) {\n      if (this.mintIntProgress)\n        event.cancel();\n    }\n  }\n}\n</script>\n\n<style scoped>\n.mint-tokens-modal {\n  background-color: rgb(59 0 135 / 50%);\n}\n.mint-tokens-modal-header {\n  width: 100%;\n  padding: 0 10px 10px 10px;\n  text-align: center;\n  background: #7000FF;\n  color: var(--primary);\n  font-family: \"ChakraPetch\", Helvetica, Arial;\n  font-size: 24px;\n  line-height: 30px;\n  font-weight: 700;\n}\n.mint-tokens-modal-header img.close {\n  position: absolute;\n  top: 8px;\n  right: 10px;\n  width: 15px;\n  height: 15px;\n  cursor: pointer;\n}\n.modal-content {\n  position: fixed;\n  top: 15%;\n  left: calc(50% - 166px);\n  flex-direction: column;\n  min-width: 300px;\n  background-color: #21004B;\n  border: 10px solid #7000FF;\n  color: #CCFF00;\n}\n.mint-tokens-modal-content {\n  flex-direction: column;\n  padding: 20px;\n}\n.instructions {\n  font-weight: 700;\n  margin: 0 20px 20px;\n  text-align: center;\n}\nform {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  margin-top: 20px;\n}\nform label {\n  width: 60px;\n}\nform button {\n  width: 200px;\n  align-self: center;\n  margin-top: 20px;\n}\n.mint-in-progress {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background-color: #21004B;\n  color: var(--primary);\n  font-weight: 700;\n  display: flex;\n  justify-content: center;\n  text-align: center;\n  flex-direction: column;\n  align-items: center;\n  font-size: 40px;\n}\n.mint-in-progress span {\n  display: block;\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MintTokensModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MintTokensModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MintTokensModal.vue?vue&type=template&id=356471d6&scoped=true&\"\nimport script from \"./MintTokensModal.vue?vue&type=script&lang=js&\"\nexport * from \"./MintTokensModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MintTokensModal.vue?vue&type=style&index=0&id=356471d6&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"356471d6\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"wrapper\">\r\n    <claim-modal name='claim-modal' :width=\"selectedWidth\" :height=\"selectedHeight\" :x=\"selectionStartX\" :y=\"selectionStartY\" :onsuccess=\"onClaimModalSuccess\" @close=\"closeClaimModal\"/>\r\n    <mint-tokens-modal name='mint-tokens-modal' :amount=\"selectedPriceUSD\" :onsuccess=\"onMintTokenModalSuccess\" @close=\"closeMintTokensModal\"/>\r\n    <div class=\"canvas-container\" v-on:click=\"click\" @mouseup=\"onMouseUp\" @mouseleave=\"onMouseLeave\" @mousedown=\"onMouseDown\" @mousemove=\"onMouseMove\">\r\n      <div :style=\"selectionHeaderStyle\">\r\n        {{ selectedWidth }}x{{selectedHeight}}\r\n      </div>\r\n      <div :style=\"selectionStyles\"></div>\r\n      <div v-for=\"tile in badTiles\" v-bind:key=\"tile.index\">\r\n        <div v-if=\"selectedTilesCount > badTiles.length\" :style=\"styleForBadTile(tile)\" />\r\n      </div>\r\n      <div class=\"hover-popup\" :style=\"highLightPopupStyles\">\r\n        {{highlightNftDescription}}\r\n      </div>\r\n      <canvas ref=\"canvas\" width=\"1000\" height=\"1000\"></canvas>\r\n      <br />\r\n    </div>\r\n    <button class=\"primary-button mint-button\" v-if=\"this.selectionStartX !== null && !this.selectionInProcess\" v-on:click=\"claim\">\r\n      <!-- SegMint pixels {{this.selectionEndX - this.selectionStartX + 10}}x{{this.selectionEndY - this.selectionStartY + 10}} -->\r\n      Mint segment\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ClaimModal from \"@/components/ClaimModal.vue\";\r\nimport MintTokensModal from '@/components/MintTokensModal.vue'\r\n// import zoomMixin from \"@/mixins/zoom\"\r\n\r\nexport default {\r\n  name: 'CanvasComponent',\r\n  components: {ClaimModal, MintTokensModal},\r\n  // mixins: [zoomMixin],\r\n  props: {},\r\n  data() {\r\n    return {\r\n      ctx: null,\r\n      imageData: null,\r\n      isMobile: false,\r\n      collectionLoaded: false,\r\n      // to claim the tiles\r\n      selectionInProcess: false,\r\n      selectionStartX: null,\r\n      selectionStartY: null,\r\n      selectionEndX: null,\r\n      selectionEndY: null,\r\n      // to show nftDescription\r\n      highLightNftId: null,\r\n      lastMousePosX: 0,\r\n      lastMousePosY: 0,\r\n    }\r\n  },\r\n  computed: {\r\n    badTiles: function() {\r\n      // return []\r\n      if (this.selectionStartX === null)\r\n        return [];\r\n      let sX = this.selectionStartX;\r\n      let sY = this.selectionStartY;\r\n      let endX = this.selectionEndX;\r\n      let endY = this.selectionEndY;\r\n      let badSelectedTiles = [];\r\n      for (let x = sX; x <= endX; x += 10) {\r\n        for (let y = sY; y <= endY; y += 10) {\r\n          const index = x * 10 + y/10;\r\n          const tileInStore = this.$store.state.Provider.tilesByIndex[index];\r\n          if (tileInStore.nftId !== '4294967295') {\r\n            badSelectedTiles.push(tileInStore);\r\n          }\r\n        }\r\n      }\r\n      return badSelectedTiles;\r\n    },\r\n    selectedTilesCount: function () {\r\n      if (this.selectionStartX === null || this.selectionStartY === null)\r\n        return 0;\r\n      return (this.selectionEndX - this.selectionStartX + 10) / 10 * (this.selectionEndY - this.selectionStartY + 10) / 10;\r\n    },\r\n    tiles: function() {\r\n      return this.$store.state.Provider.tiles;\r\n    },\r\n    selectedWidth: function () {\r\n      return this.selectionEndX - this.selectionStartX + 10\r\n    },\r\n    selectedHeight: function () {\r\n      return this.selectionEndY - this.selectionStartY + 10\r\n    },\r\n    selectedPriceUSD: function () {\r\n      return this.selectedWidth * this.selectedHeight * 1_000_000_000;\r\n    },\r\n    highLightPopupStyles: function() {\r\n      // When we hover some nft, we show popup with text\r\n      if (this.highLightNftId) {\r\n        const left = this.lastMousePosX > 600;\r\n        return {\r\n          top: `${this.lastMousePosY}px`,\r\n          left: `${left ? this.lastMousePosX - 235 : this.lastMousePosX + 15}px`,\r\n          width: '200px',\r\n          minHeight: '20px'\r\n        }\r\n      } else {\r\n        return {\r\n          display: 'none'\r\n        }\r\n      }\r\n    },\r\n    highlightNftDescription() {\r\n      let mapping = this.$store.state.Provider.nftDataById;\r\n      let nft = mapping[this.highLightNftId];\r\n      if (nft) {\r\n        return nft.description;\r\n      }\r\n      return '';\r\n    },\r\n    selectionStyles: function () {\r\n      // Style for dynamic selection\r\n      if (this.selectionStartX !== null && this.selectedTilesCount > this.badTiles.length) {\r\n        return {\r\n          position: 'absolute',\r\n          left: `${this.selectionStartX}px`,\r\n          top: `${this.selectionStartY}px`,\r\n          width: `${this.selectionEndX - this.selectionStartX + 10}px`,\r\n          height: `${this.selectionEndY - this.selectionStartY + 10}px`,\r\n          backgroundColor: 'rgba(204,255,0,0.5)'\r\n        }\r\n      }\r\n      return {\r\n        position: 'absolute',\r\n        left: 0,\r\n        top: 0,\r\n        width: 0,\r\n        height: 0,\r\n        backgroundColor: 'rgba(204,255,0,0.5)'\r\n      }\r\n    },\r\n    selectionHeaderStyle: function () {\r\n      if (this.selectionStartX !== null && this.selectedTilesCount > this.badTiles.length) {\r\n        if (this.selectionStartY > 100 ) {\r\n          return {\r\n            position: 'absolute',\r\n            left: `${(this.selectionStartX + this.selectionEndX)/2 - 30}px`,\r\n            top: `${this.selectionStartY - 25}px`,\r\n            width: `60px`,\r\n            height: `20px`,\r\n            borderRadius: '5px',\r\n            backgroundColor: 'yellow',\r\n            textAlign: 'center'\r\n          }\r\n          // Above selection\r\n        } else {\r\n          // Below selection\r\n          return {\r\n            position: 'absolute',\r\n            left: `${(this.selectionStartX + this.selectionEndX)/2 - 30}px`,\r\n            top: `${this.selectionEndY + 15}px`,\r\n            width: `60px`,\r\n            height: `20px`,\r\n            borderRadius: '5px',\r\n            backgroundColor: 'yellow',\r\n            textAlign: 'center'\r\n          }\r\n        }\r\n      } else {\r\n        return {\r\n          display: 'none',\r\n          position: 'absolute',\r\n          left: 0,\r\n          top: 0,\r\n          width: 0,\r\n          height: 0,\r\n          backgroundColor: 'rgba(204,255,0,0.5)'\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.ctx = this.$refs.canvas.getContext('2d');\r\n    this.imageData = this.ctx.createImageData(10, 10);\r\n    // if (this.$store.state.Provider.tiles.length > 0) {\r\n    //   this.redraw(this.$store.state.Provider.tiles);\r\n    // }\r\n    this.$store.subscribe((mutation) => {\r\n      if (mutation.type === 'Provider/setTiles') {\r\n        this.redraw(mutation.payload.tiles);\r\n      } else if (mutation.type === 'Provider/setTile') {\r\n        this.drawTile(mutation.payload.tile);\r\n      }\r\n    })\r\n  },\r\n  methods: {\r\n    clearSelection() {\r\n      this.selectionInProcess = false;\r\n      this.selectionStartX = null;\r\n      this.selectionStartY = null;\r\n      this.selectionEndX = null;\r\n      this.selectionEndY = null;\r\n    },\r\n    drawTile(tile) {\r\n      this.imageData.data.set(tile.pixels)\r\n      this.ctx.putImageData(this.imageData, tile.x, tile.y);\r\n    },\r\n    redraw(tiles) {\r\n      // TODO do not redraw everything\r\n      for (let tile of tiles) {\r\n        this.imageData.data.set(tile.pixels)\r\n        this.ctx.putImageData(this.imageData, tile.x, tile.y);\r\n      }\r\n      this.collectionLoaded = true;\r\n    },\r\n    styleForBadTile: function (tile) {\r\n      // Style for one tile (10x10) in case\r\n      // Selection overlaps already purchased tile\r\n      return {\r\n        position: 'absolute',\r\n        left: `${tile.x}px`,\r\n        top: `${tile.y}px`,\r\n        width: `10px`,\r\n        height: `10px`,\r\n        backgroundColor: 'red'\r\n      }\r\n    },\r\n    onMouseDown(event) {\r\n      if (this.isMobile || !this.collectionLoaded)\r\n        return;\r\n      const canvasRect = this.$refs.canvas.getBoundingClientRect();\r\n      let xPos = Math.floor((event.clientX - canvasRect.left)/10)*10;\r\n      let yPos = Math.floor((event.clientY - canvasRect.top)/10)*10;\r\n      if (xPos < 0 || xPos > 990 || yPos < 0 || yPos > 990)\r\n        return;\r\n      this.selectionInProcess = true;\r\n      this.selectionStartX = xPos;\r\n      this.selectionStartY = yPos;\r\n      this.selectionEndX = xPos;\r\n      this.selectionEndY = yPos;\r\n    },\r\n    onMouseMove(event) {\r\n      if (this.isMobile || !this.collectionLoaded)\r\n        return\r\n\r\n      const canvasRect = this.$refs.canvas.getBoundingClientRect();\r\n      let coordX = event.clientX - canvasRect.left;\r\n      let coordY = event.clientY - canvasRect.top;\r\n\r\n      let xPos = Math.floor(coordX/10)*10;\r\n      let yPos = Math.floor(coordY/10)*10;\r\n      if (xPos < 0 || xPos > 990 || yPos < 0 || yPos > 990) {\r\n        return;\r\n      }\r\n\r\n      if (!this.selectionInProcess) {\r\n        // highlight popup logic\r\n        this.lastMousePosX = coordX;\r\n        this.lastMousePosY = coordY;\r\n        const index = xPos * 10 + yPos/10;\r\n        const tileInStore = this.$store.state.Provider.tilesByIndex[index];\r\n        if (tileInStore && tileInStore.nftId !== '4294967295' && tileInStore.nftId !== this.highLightNftId) {\r\n          this.highLightNftId = tileInStore.nftId;\r\n          this.$store.dispatch('Provider/fetchNftData', {id: tileInStore.nftId});\r\n        } else if(tileInStore.nftId !== this.highLightNftId) {\r\n          this.highLightNftId = null;\r\n        }\r\n        return;\r\n      }\r\n\r\n      // Some tricky logic to keep max selected piece in range 0..10000 pixels\r\n      if (xPos <= this.selectionEndX){\r\n        this.selectionEndX = Math.max(xPos, this.selectionStartX);\r\n      } else {\r\n        while (xPos > this.selectionEndX) {\r\n          let newTilesCount = (this.selectionEndX - this.selectionStartX + 20) * (this.selectionEndY - this.selectionStartY + 10);\r\n          if (newTilesCount <= 10000) {\r\n            this.selectionEndX += 10\r\n          } else {\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      if (yPos <= this.selectionEndY) {\r\n        this.selectionEndY = Math.max(yPos, this.selectionStartY);\r\n      } else {\r\n        while (yPos > this.selectionEndY) {\r\n          let newTilesCount = (this.selectionEndX - this.selectionStartX + 10) * (this.selectionEndY - this.selectionStartY + 20);\r\n          if (newTilesCount <= 10000) {\r\n            this.selectionEndY += 10;\r\n          } else {\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    onMouseUp() {\r\n      if (this.isMobile || !this.collectionLoaded)\r\n        return\r\n      this.selectionInProcess = false;\r\n      if (this.selectionStartX !== null && this.selectionStartX === this.selectionEndX && this.selectionStartY === this.selectionEndY && this.highLightNftId) {\r\n\r\n        let nft = this.$store.state.Provider.nftDataById[this.highLightNftId];\r\n        if (nft && nft.url) {\r\n          window.open(nft.url, '_blank');\r\n        }\r\n\r\n      }\r\n      if (this.badTiles.length > 0) {\r\n        this.clearSelection();\r\n      }\r\n    },\r\n    onMouseLeave() {\r\n      if (this.isMobile)\r\n        return\r\n      if (this.selectionInProcess) {\r\n        this.clearSelection();\r\n      }\r\n      this.highLightNftId = null;\r\n    },\r\n    click(event) {\r\n      // Need to test on mobile\r\n      if (!this.isMobile || !this.collectionLoaded) {\r\n        return;\r\n      }\r\n      const canvasRect = this.$refs.canvas.getBoundingClientRect();\r\n      //Logic to select the tiles to claim.\r\n      let xPos = event.clientX - canvasRect.left;\r\n      let yPos = event.clientY - canvasRect.top;\r\n\r\n      let tileX = Math.floor(xPos / 10) * 10;\r\n      let tileY = Math.floor(yPos / 10) * 10;\r\n\r\n      if (this.selectionStartX !== null && this.selectionStartX === this.selectionEndX && this.selectionStartY === this.selectionEndY) {\r\n        let prevState = {\r\n          selectionStartX: this.selectionStartX,\r\n          selectionStartY: this.selectionStartY,\r\n          selectionEndX: this.selectionEndX,\r\n          selectionEndY: this.selectionEndY\r\n        }\r\n        this.selectionStartX = Math.min(tileX, prevState.selectionStartX);\r\n        this.selectionStartY = Math.min(tileY, prevState.selectionStartY);\r\n        this.selectionEndX = Math.max(tileX, prevState.selectionEndX);\r\n        this.selectionEndY = Math.max(tileY, prevState.selectionEndY);\r\n      } else {\r\n        this.selectionStartX = tileX;\r\n        this.selectionStartY = tileY;\r\n        this.selectionEndX = tileX;\r\n        this.selectionEndY = tileY;\r\n      }\r\n\r\n      // Maximum one time claim is 100 tiles - 10000 pixels\r\n      // So crop big selections\r\n      while ((this.selectionEndX - this.selectionStartX + 10) * (this.selectionEndY - this.selectionStartY + 10) > 10000) {\r\n        // Funny random\r\n        // Todo, think about better crop\r\n        if (Math.random() > 0.5) {\r\n          if (this.selectionEndX > this.selectionStartX) {\r\n            this.selectionEndX -= 10;\r\n          }\r\n        } else {\r\n          if (this.selectionEndY > this.selectionStartY) {\r\n            this.selectionEndY -= 10;\r\n          }\r\n        }\r\n      }\r\n\r\n      // Check is there is no empty tiles in selection\r\n      const notEmptyTilesInSelection = this.tiles.filter(t =>\r\n          t.nftId !== '4294967295' &&\r\n          t.x >= this.selectionStartX &&\r\n          t.y >= this.selectionStartY &&\r\n          t.x <= this.selectionEndX &&\r\n          t.y <= this.selectionEndY\r\n      )\r\n\r\n      // todo smart crop if there are busy tiles\r\n      // for (let busyTile of notEmptyTilesInSelection) {\r\n      //   if (this.selectionStartX <= busyTile.x)\r\n      //     this.selectionStartX = busyTile.x + 10;\r\n      //   if (this.selectionStartY <= busyTile.y)\r\n      //     this.selectionStartY = busyTile.y + 10;\r\n      //\r\n      //   if (this.selectionEndX >= busyTile.x)\r\n      //     this.selectionEndX = busyTile.x - 10;\r\n      //   if (this.selectionEndY <= busyTile.x)\r\n      //     this.selectionEndY = busyTile.y - 10;\r\n      // }\r\n\r\n      // Cancel selection\r\n      if (notEmptyTilesInSelection.length !== 0) {\r\n        // TODO show toast notification\r\n        // TILES ARE NOT EMPTY\r\n        this.selectionStartX = null;\r\n        this.selectionStartY = null;\r\n        this.selectionEndX = null;\r\n        this.selectionEndY = null;\r\n      }\r\n    },\r\n    claim() {\r\n      if (this.$store.state.Provider.account) {\r\n        if (this.selectedPriceUSD > this.$store.state.Provider.tokenWalletBalance) {\r\n          this.$modal.show('mint-tokens-modal');\r\n        } else {\r\n          console.log('open-modal')\r\n          this.$modal.show('claim-modal');\r\n        }\r\n      } else {\r\n        this.$store.dispatch('Provider/connect');\r\n      }\r\n    },\r\n    onClaimModalSuccess() {\r\n      this.clearSelection();\r\n      this.$modal.hide('claim-modal');\r\n    },\r\n    closeClaimModal(){\r\n      console.log('closeClaimModal');\r\n      this.$modal.hide('claim-modal');\r\n    },\r\n    onMintTokenModalSuccess() {\r\n      this.$modal.hide('mint-tokens-modal');\r\n      this.$modal.show('claim-modal');\r\n    },\r\n    closeMintTokensModal(){\r\n      this.$modal.hide('mint-tokens-modal');\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.wrapper {\r\n  font-family: \"ChakraPetch\", Helvetica, Arial;\r\n}\r\n.canvas-container {\r\n  margin: 100px auto 50px;\r\n  position: relative;\r\n  width: 1000px;\r\n  height: 1000px;\r\n  user-select: none;\r\n}\r\n\r\ncanvas {\r\n  user-select: none;\r\n  width: 1000px;\r\n  height: 1000px;\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n  background-image: repeating-linear-gradient(#7000FF 0 1px, transparent 1px 100px), repeating-linear-gradient(90deg, #7000FF 0 1px, transparent 1px 100px);\r\n  background-size: 10px 10px;\r\n  background-color: #21004B;\r\n}\r\n\r\n.mint-button {\r\n  position: fixed;\r\n  bottom: 20px;\r\n  left: calc(50% - 80px);\r\n  font-family: inherit;\r\n  cursor: pointer;\r\n  z-index: 2;\r\n}\r\n\r\n.hover-popup {\r\n  color: white;\r\n  position: absolute;\r\n  font-weight: bold;\r\n  padding: 10px;\r\n  background-color: rgba(0,0,0,0.8);\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CanvasComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CanvasComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CanvasComponent.vue?vue&type=template&id=7a08f48b&scoped=true&\"\nimport script from \"./CanvasComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./CanvasComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CanvasComponent.vue?vue&type=style&index=0&id=7a08f48b&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7a08f48b\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"full-screen-popup\"},[_c('div',{staticClass:\"full-screen-popup-fade\",on:{\"click\":_vm.$props.onClose}}),_c('div',{staticClass:\"my-nft-wrapper\"},[_c('div',{staticClass:\"my-nft-header\"},[_vm._v(\" My NFTs \"),_c('img',{staticClass:\"close\",attrs:{\"src\":`${_vm.publicPath}icons/close.svg`,\"alt\":\"close\"},on:{\"click\":_vm.$props.onClose}})]),_c('div',{staticClass:\"my-nft-container\"},_vm._l((_vm.nfts),function(nft){return _c('div',{key:nft.id,staticClass:\"my-nft\"},[_c('OneNftComponent',{attrs:{\"address\":nft.address,\"id\":nft.id,\"x\":nft.x,\"y\":nft.y,\"width\":nft.width,\"height\":nft.height,\"description\":nft.description,\"url\":nft.url,\"onedit\":_vm.onEdit}})],1)}),0)]),_c('claim-modal',{attrs:{\"name\":\"edit-modal\",\"id\":_vm.editNftId,\"width\":_vm.editNftWidth,\"height\":_vm.editNftHeight,\"x\":_vm.editNftX,\"y\":_vm.editNftY,\"onsuccess\":_vm.onModalSuccess},on:{\"close\":_vm.closEditModal}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"nft-container\"},[_c('div',{staticClass:\"canvas-container\",style:(_vm.canvasStyles)},[_c('a',{attrs:{\"href\":_vm.scanLink,\"target\":\"_blank\"}},[_c('canvas',{ref:\"canvas\",style:(_vm.canvasStyles),attrs:{\"width\":this.$props.width,\"height\":this.$props.height}})])]),_c('div',{staticClass:\"nft-info-container\"},[_c('div',{staticClass:\"nft-info-title\"},[_c('a',{attrs:{\"href\":_vm.$props.url,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(this.$props.description)+\" \")])]),_c('div',{staticClass:\"secondary-button nft-info-button\",on:{\"click\":_vm.edit}},[_c('span',[_vm._v(\" Edit \")]),_c('img',{staticClass:\"edit-icon\",attrs:{\"src\":`${_vm.publicPath}icons/edit.svg`,\"alt\":\"edit\"}})])]),_c('div',{staticClass:\"nft-subinfo-container\"},[_c('p',[_vm._v(\" Segment size: \"+_vm._s(this.$props.width)+\"x\"+_vm._s(this.$props.height)+\" \")]),_c('p',[_vm._v(\" Floor price: \"+_vm._s(this.floorPrice())+\"$ \")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"nft-container\">\r\n    <div :style=\"canvasStyles\" class=\"canvas-container\">\r\n      <a :href=\"scanLink\" target='_blank'>\r\n        <canvas :style=\"canvasStyles\" ref=\"canvas\" :width=\"this.$props.width\" :height=\"this.$props.height\"></canvas>\r\n      </a>\r\n    </div>\r\n    <div class='nft-info-container'>\r\n      <div class='nft-info-title'>\r\n        <a :href='$props.url' target='_blank'>\r\n          {{this.$props.description}}\r\n        </a>\r\n      </div>\r\n      <div class='secondary-button nft-info-button' @click='edit'>\r\n        <span>\r\n          Edit\r\n        </span>\r\n        <img :src=\"`${publicPath}icons/edit.svg`\" alt=\"edit\" class=\"edit-icon\">\r\n      </div>\r\n    </div>\r\n    <div class='nft-subinfo-container'>\r\n      <p>\r\n        Segment size: {{this.$props.width}}x{{this.$props.height}}\r\n      </p>\r\n      <p>\r\n          Floor price: {{this.floorPrice()}}$\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'OneNft',\r\n  data () {\r\n    return {\r\n      publicPath: process.env.BASE_URL\r\n    }\r\n  },\r\n  props: ['id', 'address', 'x', 'y', 'width', 'height', 'description', 'url', 'onedit'],\r\n  computed: {\r\n    canvasStyles: function () {\r\n      const height = 250/this.$props.width * this.$props.height;\r\n      return {\r\n        margin: 'auto',\r\n        width: `100%`,\r\n        height: `${height}px`\r\n      }\r\n    },\r\n    scanLink: function() {\r\n      return `https://devnet.venomscan.com/accounts/${this.$props.address.toString()}`;\r\n    }\r\n  },\r\n  mounted() {\r\n    this.redraw();\r\n  },\r\n  methods: {\r\n    edit() {\r\n      this.$props.onedit(this.$props.id, this.$props.x, this.$props.y, this.$props.width, this.$props.height);\r\n    },\r\n    floorPrice() {\r\n      return this.$props.width * this.$props.height\r\n    },\r\n    redraw() {\r\n      const ctx = this.$refs.canvas.getContext('2d');\r\n      const imageData = ctx.createImageData(10, 10);\r\n      for (let x = this.$props.x; x < this.$props.x + this.$props.width; x += 10) {\r\n        for (let y = this.$props.y; y < this.$props.y + this.$props.height; y += 10) {\r\n          const index = x * 10 + y/10;\r\n          const tileInStore = this.$store.state.Provider.tilesByIndex[index];\r\n          if (tileInStore) {\r\n            imageData.data.set(tileInStore.pixels);\r\n            ctx.putImageData(imageData, x - this.$props.x, y - this.$props.y);\r\n          }\r\n        }\r\n      }\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.nft-container {\r\n  width: 254px;\r\n  border: solid 2px #7000FF;\r\n  padding-bottom: 10px;\r\n}\r\n.canvas-container {\r\n  width: 100%;\r\n  border-bottom: solid 2px #7000FF;\r\n}\r\ncanvas {\r\n  image-rendering: pixelated;\r\n}\r\n\r\n.nft-info-container {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.nft-info-title {\r\n  padding: 5px 10px;\r\n}\r\n\r\n.nft-info-title a {\r\n  color: var(--primary) !important;\r\n  font-family: \"ChakraPetch\", Helvetica, Arial;\r\n  font-style: normal;\r\n  font-weight: 700;\r\n  font-size: 20px;\r\n  line-height: 36px;\r\n  text-decoration: none;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  max-width: 160px;\r\n  display: block;\r\n}\r\n\r\n.nft-info-title a:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.nft-info-button {\r\n  border: solid 2px var(--primary);\r\n  cursor: pointer;\r\n  height: 22px;\r\n  padding: 0px 5px;\r\n  margin-right: 5px;\r\n}\r\n.nft-info-button span {\r\n  color: var(--primary) !important;\r\n  font-family: \"ChakraPetch\", Helvetica, Arial;\r\n  font-style: normal;\r\n  font-weight: 700;\r\n  font-size: 14px;\r\n  line-height: 16px;\r\n}\r\n.nft-info-button .edit-icon {\r\n  margin-left: 10px;\r\n}\r\n.nft-subinfo-container {\r\n  text-align: left;\r\n  font-family: \"ChakraPetch\", Helvetica, Arial;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  line-height: 16px;\r\n  letter-spacing: 0em;\r\n  margin: 0px 10px;\r\n}\r\n.nft-subinfo-container p {\r\n  margin: 5px 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OneNftComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OneNftComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OneNftComponent.vue?vue&type=template&id=8c367b02&scoped=true&\"\nimport script from \"./OneNftComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./OneNftComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OneNftComponent.vue?vue&type=style&index=0&id=8c367b02&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8c367b02\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class='full-screen-popup'>\r\n    <div class='full-screen-popup-fade' @click='$props.onClose'></div>\r\n    <div class=\"my-nft-wrapper\">\r\n      <div class='my-nft-header'>\r\n        My NFTs\r\n        <img :src=\"`${publicPath}icons/close.svg`\" alt=\"close\" class=\"close\" @click='$props.onClose'>\r\n      </div>\r\n      <div class='my-nft-container'>\r\n        <div v-for=\"nft in nfts\" v-bind:key=\"nft.id\" class='my-nft'>\r\n          <OneNftComponent :address='nft.address' :id='nft.id' :x='nft.x' :y='nft.y' :width='nft.width' :height='nft.height' :description='nft.description' :url='nft.url' :onedit='onEdit' />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <claim-modal name='edit-modal' :id='editNftId' :width=\"editNftWidth\" :height=\"editNftHeight\" :x=\"editNftX\" :y=\"editNftY\" :onsuccess=\"onModalSuccess\" @close=\"closEditModal\"/>\r\n  </div>\r\n</template>\r\n<script>\r\nimport OneNftComponent from '@/components/OneNftComponent.vue'\r\nimport ClaimModal from \"@/components/ClaimModal.vue\";\r\n\r\nexport default {\r\n  name: 'MyNftComponent',\r\n  components: {\r\n    OneNftComponent,\r\n    ClaimModal\r\n  },\r\n  data () {\r\n    return {\r\n      publicPath: process.env.BASE_URL,\r\n      editNftId: null,\r\n      editNftWidth: null,\r\n      editNftHeight: null,\r\n      editNftX: null,\r\n      editNftY: null\r\n    }\r\n  },\r\n  props: ['onClose'],\r\n  computed: {\r\n    address() {\r\n      return \"\";\r\n    },\r\n    nfts() {\r\n      return this.$store.state.Provider.userNfts\r\n    }\r\n  },\r\n  mounted(){\r\n  },\r\n  methods: {\r\n    onEdit(id, x, y, width, height) {\r\n      this.editNftId = id;\r\n      this.editNftX = x;\r\n      this.editNftY = y;\r\n      this.editNftWidth = width;\r\n      this.editNftHeight = height;\r\n      this.$modal.show('edit-modal');\r\n    },\r\n    onModalSuccess() {\r\n      this.editNftId = null;\r\n      this.$modal.hide('edit-modal');\r\n      this.$props.onClose();\r\n    },\r\n    closEditModal() {\r\n      this.editNftId = null;\r\n      this.$modal.hide('edit-modal');\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.my-nft-wrapper {\r\n  position: fixed;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  top: 92px;\r\n  right: 0;\r\n  bottom: 0;\r\n  width: 300px;\r\n  background: #7000FF;\r\n  z-index: 8;\r\n  color: #CCFF00;\r\n}\r\n.my-nft-header {\r\n  color: var(--primary);\r\n  font-family: \"ChakraPetch\", Helvetica, Arial;\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  height: 60px;\r\n  text-align: center;\r\n  width: 100%;\r\n  flex: 0;\r\n  padding-top: 5px;\r\n}\r\n.my-nft-container {\r\n  font-family: \"ChakraPetch\", Helvetica, Arial;\r\n  flex: 1;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border: solid 8px #7000FF;\r\n  background: #21004B;\r\n  box-sizing: border-box;\r\n  overflow-y: scroll;\r\n}\r\n\r\n\r\n.my-nft {\r\n  padding: 10px;\r\n  width: 100%;\r\n  text-align: center;\r\n  box-sizing: border-box;\r\n}\r\n.close {\r\n  width: 24px;\r\n  height: 24px;\r\n  position: absolute;\r\n  right: 13px;\r\n  top: 8px;\r\n  cursor: pointer;\r\n}\r\n.full-screen-popup {\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  top: 92px;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n  z-index: 1000;\r\n}\r\n.full-screen-popup-fade {\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MyNftComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MyNftComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyNftComponent.vue?vue&type=template&id=0e714cd8&scoped=true&\"\nimport script from \"./MyNftComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./MyNftComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MyNftComponent.vue?vue&type=style&index=0&id=0e714cd8&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e714cd8\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <MyNftComponent v-if='myNftOpened' :onClose='closeMyNfts'/>\n    <HeaderComponent :openMyNfts='openMyNfts' />\n    <CanvasComponent />\n    <div v-if='!isCollectionLoaded' class='loading-fullscreen'>\n      <div>\n        <h1>Loading collection</h1>\n        <div class=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport HeaderComponent from './components/HeaderComponent.vue'\nimport CanvasComponent from './components/CanvasComponent.vue'\nimport MyNftComponent from \"@/components/MyNftComponent.vue\";\n\nexport default {\n  name: 'App',\n  components: {\n    HeaderComponent,\n    CanvasComponent,\n    MyNftComponent\n  },\n  data() {\n    return {\n      myNftOpened: false,\n    }\n  },\n  computed: {\n    isCollectionLoaded() {\n      return this.$store.state.Provider.collectionLoaded;\n    }\n  },\n  mounted() {\n    this.$store.dispatch('Provider/init', {});\n  },\n  methods: {\n    closeMyNfts(){\n      this.myNftOpened = false;\n    },\n    openMyNfts(){\n      this.myNftOpened = true;\n    },\n  }\n}\n</script>\n\n<style>\n@font-face {\n  font-family: \"ChakraPetch\";\n  src: local(\"ChakraPetch\"),\n   url(../public/fonts/ChakraPetch-Regular.ttf) format(\"truetype\");\n}\nhtml, body {\n  padding: 0;\n  margin: 0;\n  background-color: #3B0087;\n  box-sizing: border-box;\n}\n#app {\n  font-family: \"ChakraPetch\", Helvetica, Arial;\n}\n.loading-fullscreen {\n  z-index: 1000;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: #3B0087;\n  color: var(--primary);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  text-align: center;\n  align-items: center;\n}\n</style>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=1a1ed0d4&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=1a1ed0d4&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable */\nimport {VenomConnect} from \"venom-connect\";\nimport {Address, ProviderRpcClient} from \"everscale-inpage-provider\";\nimport { EverscaleStandaloneClient } from \"everscale-standalone-client\";\nimport CollectionAbi from \"./abi/SegmintCollection.abi.json\";\nimport NftAbi from \"./abi/SegmintNft.abi.json\";\nimport IndexAbi from \"./abi/Index.abi.json\";\nimport TokenRootAbi from \"./abi/TokenRootUpgradeable.abi.json\";\nimport TokenWalletAbi from \"./abi/TokenWalletUpgradeable.abi.json\";\nimport ProxyOwnerAbi from \"./abi/ProxyOwner.abi.json\";\n\nimport {covertTileColorToPixels} from \"@/utils/pixels\";\nimport {BN} from \"bn.js\";\nimport Vue from \"vue\";\n\nconst CollectionAddress = new Address(\"0:39e56510acc6bcdb694293fee3335da1fbbfae6fe661e6485bf2ece610341f5e\");\nconst TokenRootAddress = new Address(\"0:431f19f8b5c48fba2368e995bd18772e20055900ae1872093fd4c7d563db1919\");\nconst ProxyOwnerAddress = new Address(\"0:589f7dacb9906334a950ae15cc10bc7d55bf43fbb646c63ffd3a7a591e764bc1\");\n\nconst TokenRootDecimals = 9;\nconst ColorifyOneTilePrice = 0.04;\n// wallet -> token 0.9, waltet -> wallet 0.5, wallet -> collection 0.5, collection -> nft(colorify) 0.5;\nconst MaximumFwdFeeForBigMint = 0.9 + 0.5 + 0.5 + 0.5 + 0.5;\n// 1 for deploy nft + indexes, 0.2 for fwd fee + 1 coin reserved on collection contract\nconst OneNftMintingCost = 2.2;\n// whole block, 1 for se, 0.2 for venom.\nconst MaximumClaimGasPrice = 1;\n\nconst standaloneFallback = () =>\n  EverscaleStandaloneClient.create({\n    connection: {\n      id: 1002,\n      group: \"venom_testnet\",\n      type: \"jrpc\",\n      data: {\n        endpoint: \"https://jrpc-devnet.venom.foundation/rpc\"\n      },\n    },\n  });\n\n// const standaloneFallback = () =>\n//   EverscaleStandaloneClient.create({\n//     connection: {\n//       id: 1002,\n//       group: \"venom_devnet\",\n//       type: \"graphql\",\n//       data: {\n//         endpoints: [\"https://gql-devnet.venom.network/graphql\"],\n//         latencyDetectionInterval: 1000,\n//         local: false,\n//       },\n//     },\n//   });\n\nasync function providerChanged(provider, commit) {\n  console.log('get new state');\n  const collectionContract = new provider.Contract(CollectionAbi, CollectionAddress);\n  const {state: collectionCachedState} = await collectionContract.getFullState();\n\n  console.log('state got');\n  const collectionSubscriber = new provider.Subscriber();\n  // ug\n  let waitToColorify = [];\n  collectionSubscriber.transactions(collectionContract.address).on(async (data) => {\n    console.log('We got a new transaction on collection address', data);\n    commit('Provider/setUserNftIsNotLoaded');\n    // TODO parse events\n    for (let tx of data.transactions) {\n      let events = await collectionContract.decodeTransactionEvents({transaction: tx});\n      for (let event of events) {\n        if (event.event === \"TileColorify\") {\n          let x = parseInt(event.data.pixelStartX);\n          let y = parseInt(event.data.pixelStartY);\n\n          let tile = {\n            index: (x / 10) * 100 + y/10,\n            nftId: event.data.nftId,\n            x: x,\n            y: y,\n            pixels: covertTileColorToPixels(event.data.tileColors)\n          }\n          commit('Provider/setTile', {tile: tile});\n          if (waitToColorify.indexOf(event.data.nftId) !== -1) {\n            waitToColorify.splice(waitToColorify.indexOf(event.data.nftId), 1);\n            commit('Provider/setUserNftIsNotLoaded');\n          }\n        } else if (event.event === 'NftMinted') {\n          waitToColorify.push(event.data.nftId)\n        }\n      }\n    }\n  });\n\n  commit('Provider/setCollection', {collectionContract, collectionCachedState, collectionSubscriber});\n}\n\nasync function loadTiles(commit, collectionContract, cachedState) {\n  let tiles = [];\n  let tilesByIndex = {};\n  let {value0: tilesBlockchain} = await collectionContract.methods.getTiles({answerId: 0}).call({responsible: true, cachedState: cachedState});\n\n  for (let elem of tilesBlockchain) {\n    let blockchainIndex = new BN(elem[0]);\n    let coloredTile = elem[1];\n    let x = parseInt(blockchainIndex.shrn(7).toString(10));\n    let y = parseInt(blockchainIndex.and(new BN('127', 10)).toString(10));\n\n    const index = x * 100 + y;\n    let tile = {\n      index: index,\n      nftId: coloredTile.nftId,\n      x: x * 10,\n      y: y * 10,\n      pixels: covertTileColorToPixels(coloredTile.colors)\n    }\n    tiles.push(tile);\n    tilesByIndex[index] = tile;\n  }\n\n  for (let y = 0; y < 100; y++) {\n    for (let x = 0; x < 100; x++) {\n      let index = x * 100 + y;\n      if (!tilesByIndex[index]) {\n        const tile = {\n          index: index,\n          nftId: \"4294967295\",\n          x: x * 10,\n          y: y * 10,\n          pixels: Array(10 * 10 * 4).fill(0)\n        }\n        tiles.push(tile);\n        tilesByIndex[index] = tile;\n      }\n    }\n  }\n\n  commit('Provider/setTiles', {tiles, tilesByIndex});\n}\n\nasync function fetchAccountBalance(address, provider, commit) {\n  console.log('fetchAccountBalance')\n  provider.getBalance(address).then(function(balance) {\n    if (balance) {\n      commit('Provider/setAccountBalance', {address, balance: (balance / 1_000_000_000).toFixed(1)});\n    }\n  })\n}\n\nasync function fetchUserNfts(userAddress, provider, collectionContract, collectionCachedState, commit) {\n  console.log('Fetch users nfts!!!!!!');\n  const {codeHash: indexCodeHash} = await collectionContract.methods.getNftIndexCodeHash({answerId: 0, _owner: userAddress}).call({responsible: true, cachedState: collectionCachedState})\n  console.log('Got init code hash');\n  const {accounts: userNftsContracts} = await provider.getAccountsByCodeHash({codeHash: indexCodeHash});\n  console.log('Got accounts');\n\n  let nfts = [];\n  for (let indexAddress of userNftsContracts) {\n    console.log('Iterate', indexAddress);\n    try {\n      let contract = new provider.Contract(IndexAbi, indexAddress);\n      let {owner: ownerAddress, nft: nftAddress, collection: collectionAddress} = await contract.methods.getInfo({answerId: 0}).call({responsible: true});\n      const nftContract = new provider.Contract(NftAbi, nftAddress);\n      const {state: nftContractFullState} = await nftContract.getFullState();\n      if (nftContractFullState && nftContractFullState.isDeployed) {\n        let nftInfo = await nftContract.methods.getNftCustomData({answerId:0}).call({responsible: true, cachedState: nftContractFullState});\n        if (nftInfo.owner.equals(userAddress)  && nftInfo.collection.equals(collectionContract.address)) {\n          const {nft: expectedNftAddress} = await collectionContract.methods.nftAddress({answerId: 0, id: nftInfo.id}).call({responsible: true, cachedState: collectionCachedState})\n          if (expectedNftAddress.equals(nftAddress)) {\n            nfts.push({\n              address: nftAddress,\n              id: nftInfo.id,\n              owner: nftInfo.owner,\n              description: nftInfo.description,\n              url: nftInfo.url,\n              x: parseInt(nftInfo.tilePixelsStartX),\n              y: parseInt(nftInfo.tilePixelsStartY),\n              width: parseInt(nftInfo.tilePixelsEndX) - parseInt(nftInfo.tilePixelsStartX),\n              height: parseInt(nftInfo.tilePixelsEndY) - parseInt(nftInfo.tilePixelsStartY)\n            });\n          }\n        }\n      }\n    } catch (e) {\n      console.log(e);\n      // nothing\n    }\n  }\n  commit('Provider/setUserNfts', {address: userAddress, nfts: nfts});\n}\n\nasync function fetchUserTokenWalletBalance(address, provider, commit) {\n  const tokenRootContract = new provider.Contract(TokenRootAbi, TokenRootAddress);\n  const {value0: walletAddress} = await tokenRootContract.methods.walletOf({answerId: 0, walletOwner: address}).call({responsible: true});\n\n  const tokenWalletContract = new provider.Contract(TokenWalletAbi, walletAddress);\n\n  const {state} = await tokenWalletContract.getFullState();\n  let balance = 0;\n  if (state && state.isDeployed) {\n    const {value0: walletBalance} = await tokenWalletContract.methods.balance({answerId: 0}).call({responsible: true});\n    console.log('wallet balance', walletBalance);\n    balance = parseInt(walletBalance);\n  } else {\n    console.log('wallet is not deployed');\n  }\n\n  const subscriber = new provider.Subscriber();\n  subscriber.transactions(tokenWalletContract.address).on(async (data) => {\n    // we got a new transaction\n    console.log('wallet new transaction')\n    const {value0: walletBalance} = await tokenWalletContract.methods.balance({answerId: 0}).call({responsible: true});\n    commit('Provider/setTokenWallet', {address, tokenWalletContract, balance: parseInt(walletBalance), subscriber});\n  })\n  commit('Provider/setTokenWallet', {address, tokenWalletContract, balance, subscriber});\n}\n\nexport const Provider = {\n  namespaced: true,\n  state: {\n    venomConnect: null,\n    provider: null,\n    standaloneProvider: null,\n    account: null,\n    venomBalance: '0',\n    userNftsLoadingStarted: false,\n    userNfts: [],\n    // subscriber for new events\n    collectionContract: null,\n    collectionCachedState: null,\n    collectionSubscriber: null,\n    collectionLoaded: false,\n    tokenWalletContract: null,\n    tokenWalletSubscriber: null,\n    tokenWalletBalance: 0,\n    tiles: [],\n    tilesByIndex: {},\n    nftDataById: {}\n  },\n  mutations: {\n    setVenomConnect(state, venomConnect) {\n      state.venomConnect = venomConnect;\n    },\n    setStandaloneProvider(state, provider) {\n      state.standaloneProvider = provider;\n      providerChanged(provider, this.commit);\n    },\n    setProvider(state, provider) {\n      console.log('setProvider', provider);\n      // We have new instance of provider\n      // Reset everything\n      // unsubscribe previous provider\n      state.tokenWalletContract = null;\n      state.tokenWalletBalance = 0;\n      state.tokenWalletSubscriber && state.tokenWalletSubscriber.unsubscribe();\n      state.tokenWalletSubscriber = null;\n\n      state.provider = provider;\n      state.provider.subscribe('networkChanged').then((subscriber) => {\n        subscriber.on('data', (event) => {\n          // reinit tiles on network changed.\n          const currentProviderState = provider?.getProviderState().then((currentProviderState) => {\n            if (currentProviderState?.permissions?.basic && currentProviderState?.permissions?.accountInteraction) {\n              // To reload balance and token balance\n              this.commit('Provider/setConnectedAccount', currentProviderState?.permissions?.accountInteraction.address);\n            }\n          })\n        });\n      })\n    },\n    setCollection(state, {collectionContract, collectionCachedState, collectionSubscriber}) {\n      console.log('setCollection');\n      state.collectionContract = collectionContract;\n      state.collectionCachedState = collectionCachedState;\n      state.collectionSubscriber = collectionSubscriber;\n      if (!state.userNftsLoadingStarted && state.account) {\n        state.userNftsLoadingStarted = true;\n        fetchUserNfts(state.account, state.standaloneProvider, state.collectionContract, state.collectionCachedState, this.commit);\n      }\n      loadTiles(this.commit, collectionContract, collectionCachedState);\n      state.account && fetchAccountBalance(state.account, state.provider, this.commit);\n    },\n    setTiles(state, {tiles, tilesByIndex}) {\n      state.tiles = tiles;\n      state.tilesByIndex = tilesByIndex;\n      state.collectionLoaded = true;\n    },\n    setTile(state, { tile }) {\n      console.log('setTile', tile);\n\n      let tiles = state.tiles;\n      tiles = tiles.filter(t => t.index !== tile.index);\n      tiles.push(tile);\n      state.tilesByIndex[tile.index] = tile;\n      state.tiles = tiles;\n      delete state.nftDataById[tile.nftId]\n    },\n    setConnectedAccount(state, address) {\n      console.log('setConnectedAccount');\n      state.account = address;\n      state.venomBalance = '0';\n      state.userNfts = [];\n\n      state.tokenWalletContract = null;\n      state.tokenWalletBalance = 0;\n      state.tokenWalletSubscriber && state.tokenWalletSubscriber.unsubscribe();\n      state.tokenWalletSubscriber = null;\n\n      address && fetchAccountBalance(address, state.provider, this.commit);\n      if (address && state.collectionCachedState) {\n        state.userNftsLoadingStarted = true;\n        fetchUserNfts(address, state.provider, state.collectionContract, state.collectionCachedState, this.commit);\n      } else {\n        state.userNftsLoadingStarted = false;\n      }\n      address && fetchUserTokenWalletBalance(address, state.provider, this.commit);\n    },\n    setTokenWallet(state, {address, tokenWalletContract, balance, subscriber}) {\n      if (address.equals(state.account)) {\n        state.tokenWalletContract = tokenWalletContract;\n        state.tokenWalletBalance = balance;\n        state.tokenWalletSubscriber = subscriber;\n      }\n    },\n    setAccountBalance(state, {address, balance}) {\n      if (state.account.toString() === address.toString()) {\n        state.venomBalance = balance;\n      }\n    },\n    setNftDataLoadingInProgress(state, nftId) {\n      let nftDataById = state.nftDataById;\n      if (!nftDataById[nftId]) {\n        nftDataById[nftId] = {\n          loading: true,\n          url: '',\n          description: ''\n        }\n        state.nftDataById = nftDataById;\n      }\n    },\n    setUserNfts(state, {address, nfts}) {\n      if (state.account && state.account.equals(address)) {\n        state.userNfts = nfts;\n      }\n    },\n    setUserNftIsNotLoaded(state) {\n      console.log('setUserNftIsNotLoaded')\n      if (state.account && state.collectionContract) {\n        state.userNftsLoadingStarted = true;\n        // just reload\n        fetchUserNfts(state.account, state.provider, state.collectionContract, state.collectionCachedState, this.commit);\n      } else {\n        state.userNftsLoadingStarted = false;\n      }\n    },\n    setNftData(state, {id, description, url}) {\n      // TODO think how to make better to trigger update\n      let mapping = Object.assign({}, state.nftDataById) ;\n      // TODO validate url\n      mapping[id] = {description: description.slice(0, 2000), url: url.slice(0, 2000)};\n      state.nftDataById = mapping;\n    }\n  },\n  getters: {\n    getNftDescriptionById: (state) => (id) => {\n      let mapping = state.nftDataById;\n      let nft = mapping[id];\n      if (nft)\n        return nft.description\n      return '';\n    }\n  },\n  actions:  {\n    init({ state, commit }) {\n      if (state.venomConnect)\n        return;\n      const venomConnect = new VenomConnect({\n        theme: 'light',\n        checkNetworkId: 1002, // 42 - ever main/dev, 1002 - venom devnet, 1 - venom mainnet\n        providersOptions: {\n          venomwallet: {\n            links: {},\n            walletWaysToConnect: [\n              {\n                // NPM package everscale inpage provider\n                package: ProviderRpcClient,\n                packageOptions: {\n                  fallback:\n                    VenomConnect.getPromise(\"venomwallet\", \"extension\") || (() => Promise.reject()),\n                  forceUseFallback: true,\n                },\n                packageOptionsStandalone: {\n                  fallback: standaloneFallback,\n                  forceUseFallback: true,\n                },\n                // Setup\n                id: \"extension\",\n                type: \"extension\",\n              },\n            ],\n            defaultWalletWaysToConnect: [\n              // List of enabled options\n              \"mobile\",\n              \"ios\",\n              \"android\",\n            ],\n          },\n          everwallet: {\n            links: {},\n            walletWaysToConnect: [\n              {\n                // NPM package\n                package: ProviderRpcClient,\n                packageOptions: {\n                  fallback:\n                    VenomConnect.getPromise(\"everwallet\", \"extension\") ||\n                    (() => Promise.reject()),\n                  forceUseFallback: true,\n                },\n                packageOptionsStandalone: {\n                  fallback: standaloneFallback,\n                  forceUseFallback: true,\n                },\n                id: \"extension\",\n                type: \"extension\",\n              },\n            ],\n            defaultWalletWaysToConnect: [\n              // List of enabled options\n              \"mobile\",\n              \"ios\",\n              \"android\",\n            ],\n          },\n        },\n      });\n      commit('setVenomConnect', venomConnect);\n      // Get standalone provider or  already connected wallet\n      venomConnect.checkAuth().then(async (provider) => {\n        await provider?.ensureInitialized();\n        const currentProviderState = await provider?.getProviderState();\n        let standAloneProvider = await venomConnect.getStandalone();\n        console.log('Standalone provider');\n        commit('setStandaloneProvider', standAloneProvider);\n        if (currentProviderState?.permissions?.basic && currentProviderState?.permissions?.accountInteraction) {\n          console.log('Not standalone provider');\n          commit('setProvider', provider);\n          commit('setConnectedAccount', currentProviderState?.permissions?.accountInteraction?.address);\n        }\n      });\n\n      venomConnect.on('extension-auth', async function (provider) {\n        console.log('extension-auth');\n        const currentProviderState = await provider?.getProviderState();\n        commit('setProvider', provider);\n        if (currentProviderState?.permissions?.accountInteraction?.address) {\n          commit('setConnectedAccount', currentProviderState?.permissions?.accountInteraction?.address);\n        }\n      });\n    },\n    connect({state, commit}) {\n      state.venomConnect.connect();\n    },\n    disconnect({state, commit}) {\n      state.provider.disconnect();\n      commit('setConnectedAccount', null);\n      state.venomConnect.getStandalone().then(function (standAloneProvider) {\n        console.log('Standalone provider');\n        commit('setProvider', standAloneProvider);\n      });\n    },\n    mintTokens({state, commit}, {amount}) {\n      console.log('mint tokens', state.account);\n      if (state.account === null) {\n        // connect first\n        state.venomConnect.connect();\n        return;\n      }\n      const proxyOwnerContract = new state.provider.Contract(ProxyOwnerAbi, ProxyOwnerAddress);\n      const promise = proxyOwnerContract.methods.mint({\n        amount: amount,\n        recipient: state.account,\n        deployWalletValue: '150000000',\n        remainingGasTo: state.account,\n        notify: false,\n        payload: \"\"\n      }).send({\n        from: state.account,\n        amount: '300000000',\n      })\n      return new Promise((resolve, reject) => {\n        promise.then(async (firstTx) => {\n          const subscriber = new state.provider.Subscriber();\n          await subscriber.trace(firstTx).tap(tx_in_tree => {\n            // nothing\n          }).finished();\n          resolve();\n        }).catch(reject)\n      })\n    },\n    claimTiles({state, commit}, {x, y, width, height, tiles, description, url}) {\n      if (state.account === null) {\n        // connect first\n        state.venomConnect.connect();\n        return;\n      }\n\n      let price = width * height * 1000000000;\n\n      return encodeMintPayload(state.provider,{\n        \"pixelStartX\": x,\n        \"pixelStartY\": y,\n        \"pixelEndX\": x + width,\n        \"pixelEndY\": y + height,\n        \"tilesToColorify\": tiles,\n        \"description\": description || 'Test description',\n        \"url\": url || 'https://google.com',\n        \"coinsToRedrawOneTile\" : (ColorifyOneTilePrice * 1_000_000_000).toString()\n      }).then(function(paylaod) {\n        return state.tokenWalletContract.methods.transfer({\n          amount: price,\n          recipient: CollectionAddress,\n          deployWalletValue: '0',\n          remainingGasTo: state.account,\n          notify: true,\n          payload: paylaod\n        }).send({\n          from: state.account,\n          amount: Math.floor((width / 10 * height / 10 * ColorifyOneTilePrice + OneNftMintingCost + MaximumClaimGasPrice + MaximumFwdFeeForBigMint) * 1_000_000_000).toString(),\n        })\n      }).then(firstTx => {\n        return new Promise(async (resolve, reject) => {\n          const subscriber = new state.provider.Subscriber();\n          await subscriber.trace(firstTx).tap(tx_in_tree => {\n            // nothing\n          }).finished();\n          resolve();\n        })\n      })\n    },\n    redrawNft({state, commit}, {id, x, y, width, height, tiles, description, url}) {\n      return state.collectionContract.methods.nftAddress({answerId: 0, id: id}).call({responsible: true, cachedState: state.collectionCachedState}).then(function(answer) {\n        const nftContract = new state.provider.Contract(NftAbi, answer.nft);\n        return nftContract.methods.colorify({\n          \"tilesToColorify\": tiles,\n          \"description\": description || '',\n          \"url\": url || '',\n          \"sendGasBack\": state.account,\n          \"coinsToRedrawOneTile\" : (ColorifyOneTilePrice * 1_000_000_000).toString()\n        }).send({\n          from: state.account,\n          amount: (Math.floor(width * height / 100 * ColorifyOneTilePrice * 1_000_000_000) + 1_000_000_000).toString(),\n        }).then(function(firstTx) {\n          return new Promise(async(resolve, reject) => {\n            const subscriber = new state.provider.Subscriber();\n            await subscriber.trace(firstTx).tap(tx_in_tree => {\n              // nothing\n            }).finished();\n            resolve();\n          })\n        })\n      })\n    },\n    fetchNftData({state, commit}, {id}) {\n      if (!state.nftDataById[id] && state.provider && state.collectionCachedState) {\n        commit('setNftDataLoadingInProgress', id);\n        state.collectionContract.methods.nftAddress({\n          id: id,\n          answerId: 0\n        }).call({\n          responsible: true,\n          cachedState: state.collectionCachedState\n        }).then(answer => {\n          let nftContract = new state.provider.Contract(NftAbi, answer.nft);\n          return nftContract.methods.getNftCustomData({\n            answerId: 0\n          }).call({\n            responsible: true\n          })\n          // console.log(answer);\n        }).then(nftAnswer => {\n          commit('setNftData', {id, description: nftAnswer.description, url: nftAnswer.url})\n        })\n      }\n    }\n  },\n}\n\n\nasync function encodeMintPayload(provider, payload) {\n  return (await provider.packIntoCell({\n    data: {\n      pixelStartX: payload.pixelStartX,\n      pixelStartY: payload.pixelStartY,\n      pixelEndX: payload.pixelEndX,\n      pixelEndY: payload.pixelEndY,\n      tilesToColorify: payload.tilesToColorify,\n      description: payload.description,\n      url: payload.url,\n      coinsToRedrawOneTile: payload.coinsToRedrawOneTile\n    },\n    structure: [\n      {name: 'pixelStartX', type: 'uint10'},\n      {name: 'pixelStartY', type: 'uint10'},\n      {name: 'pixelEndX', type: 'uint10'},\n      {name: 'pixelEndY', type: 'uint10'},\n      {\"components\":[{\"name\":\"r\",\"type\":\"uint80[]\"},{\"name\":\"g\",\"type\":\"uint80[]\"},{\"name\":\"b\",\"type\":\"uint80[]\"}],\"name\":\"tilesToColorify\",\"type\":\"tuple[]\"},\n      {name: 'description', type: 'string'},\n      {name: 'url', type: 'string'},\n      {name: 'coinsToRedrawOneTile', type: 'uint128'}\n    ],\n  })).boc;\n}\n","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport {Provider} from \"@/store/modules/Provider\";\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {},\n  mutations: {},\n  actions: {},\n  modules: {\n    Provider\n  }\n})\n","import Vue from 'vue'\nimport App from './App.vue'\nimport store from './store'\nimport vmodal from 'vue-js-modal'\nimport \"./styles/main.css\"\n\nVue.use(vmodal)\nVue.config.productionTip = false\n\nnew Vue({\n  store,\n  render: h => h(App),\n}).$mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = function(module) {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: function() {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/frontend/\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunksegmint_frontend\"] = self[\"webpackChunksegmint_frontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(8541); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","myNftOpened","closeMyNfts","_e","openMyNfts","isCollectionLoaded","staticClass","_m","staticRenderFns","_v","publicPath","$store","state","Provider","account","on","$props","_s","address","balance","disconnect","connect","name","data","process","props","computed","str","_address","slice","venomBalance","methods","dispatch","component","selectedWidth","selectedHeight","selectionStartX","selectionStartY","onClaimModalSuccess","closeClaimModal","selectedPriceUSD","onMintTokenModalSuccess","closeMintTokensModal","click","onMouseUp","onMouseLeave","onMouseDown","onMouseMove","style","selectionHeaderStyle","selectionStyles","_l","badTiles","tile","key","index","selectedTilesCount","length","styleForBadTile","highLightPopupStyles","highlightNftDescription","ref","selectionInProcess","claim","beforeClose","beforeOpen","headerText","$event","$emit","claimInProgress","staticStyle","canBeClaimed","width","height","onChange","directives","rawName","value","expression","canvasContainerStyles","description","domProps","target","composing","link","inputLink","linkValid","id","covertTileColorToPixels","colors","pixels","y","r","BN","g","b","x","push","shrn","and","toNumber","encodePixelsToTileColor","tileColor","shln","or","toString","coloredTiles","margin","ctx","$refs","canvas","getContext","imageSmoothingEnabled","img","Image","fillStyle","fillRect","tiles","onload","aspectRatio","drawWidth","drawHeight","drawImage","tileY","tileX","getImageData","bind","src","URL","createObjectURL","file","files","event","preventDefault","url","urlPattern","test","promise","then","onsuccess","catch","err","console","log","cancel","mintIntProgress","mint","amount","components","ClaimModal","MintTokensModal","imageData","isMobile","collectionLoaded","selectionEndX","selectionEndY","highLightNftId","lastMousePosX","lastMousePosY","sX","sY","endX","endY","badSelectedTiles","tileInStore","tilesByIndex","nftId","left","top","minHeight","display","mapping","nftDataById","nft","position","backgroundColor","borderRadius","textAlign","mounted","createImageData","subscribe","mutation","type","redraw","payload","drawTile","clearSelection","set","putImageData","canvasRect","getBoundingClientRect","xPos","Math","floor","clientX","yPos","clientY","coordX","coordY","max","newTilesCount","window","open","prevState","min","random","notEmptyTilesInSelection","filter","t","tokenWalletBalance","$modal","show","hide","onClose","nfts","onEdit","editNftId","editNftWidth","editNftHeight","editNftX","editNftY","onModalSuccess","closEditModal","canvasStyles","scanLink","edit","floorPrice","onedit","OneNftComponent","userNfts","HeaderComponent","CanvasComponent","MyNftComponent","CollectionAddress","Address","TokenRootAddress","ProxyOwnerAddress","ColorifyOneTilePrice","MaximumFwdFeeForBigMint","OneNftMintingCost","MaximumClaimGasPrice","standaloneFallback","EverscaleStandaloneClient","connection","group","endpoint","async","providerChanged","provider","commit","collectionContract","Contract","CollectionAbi","collectionCachedState","getFullState","collectionSubscriber","Subscriber","waitToColorify","transactions","tx","events","decodeTransactionEvents","transaction","parseInt","pixelStartX","pixelStartY","tileColors","indexOf","splice","loadTiles","cachedState","value0","tilesBlockchain","getTiles","answerId","call","responsible","elem","blockchainIndex","coloredTile","Array","fill","fetchAccountBalance","getBalance","toFixed","fetchUserNfts","userAddress","codeHash","indexCodeHash","getNftIndexCodeHash","_owner","accounts","userNftsContracts","getAccountsByCodeHash","indexAddress","contract","IndexAbi","owner","ownerAddress","nftAddress","collection","collectionAddress","getInfo","nftContract","NftAbi","nftContractFullState","isDeployed","nftInfo","getNftCustomData","equals","expectedNftAddress","tilePixelsStartX","tilePixelsStartY","tilePixelsEndX","tilePixelsEndY","e","fetchUserTokenWalletBalance","tokenRootContract","TokenRootAbi","walletAddress","walletOf","walletOwner","tokenWalletContract","TokenWalletAbi","walletBalance","subscriber","namespaced","venomConnect","standaloneProvider","userNftsLoadingStarted","tokenWalletSubscriber","mutations","setVenomConnect","setStandaloneProvider","setProvider","unsubscribe","getProviderState","currentProviderState","permissions","basic","accountInteraction","setCollection","setTiles","setTile","setConnectedAccount","setTokenWallet","setAccountBalance","setNftDataLoadingInProgress","loading","setUserNfts","setUserNftIsNotLoaded","setNftData","Object","assign","getters","getNftDescriptionById","actions","init","VenomConnect","theme","checkNetworkId","providersOptions","venomwallet","links","walletWaysToConnect","package","ProviderRpcClient","packageOptions","fallback","Promise","reject","forceUseFallback","packageOptionsStandalone","defaultWalletWaysToConnect","everwallet","checkAuth","ensureInitialized","standAloneProvider","getStandalone","mintTokens","proxyOwnerContract","ProxyOwnerAbi","recipient","deployWalletValue","remainingGasTo","notify","send","from","resolve","trace","firstTx","tap","tx_in_tree","finished","claimTiles","price","encodeMintPayload","paylaod","transfer","redrawNft","answer","colorify","fetchNftData","nftAnswer","packIntoCell","pixelEndX","pixelEndY","tilesToColorify","coinsToRedrawOneTile","structure","boc","Vue","Vuex","modules","vmodal","store","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","keys","every","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","globalThis","Function","hmd","create","children","Error","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","p","document","baseURI","self","location","href","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","forEach","__webpack_exports__"],"sourceRoot":""}